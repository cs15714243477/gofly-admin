"use strict";const e=require("../../common/vendor.js"),t=require("../../common/assets.js"),a={data:()=>({statusBarHeight:0,headerTop:0,headerOpacity:0,currentSwiper:0,isFollowed:!1,hasSmartLock:!0,ownerPhone:"13888889999",images:["/static/images/img_cdc09ae543.png","/static/images/img_cdc09ae543.png"],attributes:[{label:"单价",value:"9,086元/m²"},{label:"楼层",value:"中层 / 共32层"},{label:"朝向",value:"南北通透"},{label:"装修",value:"精装修"},{label:"年代",value:"2019年建"},{label:"产权",value:"商品房"}],renovationTabs:[{key:"none",label:"未装修"},{key:"in_progress",label:"进行中"},{key:"done",label:"已完成"}],renovation:{status:"in_progress",subtitle:"高端精装，环保材料（示例）",progress:68,stage:"水电验收完成，正在进行泥木施工",eta:"预计 2026-02-20",finishAt:"2026-01-10",materials:["圣象地板","马可波罗瓷砖","多乐士乳胶漆"],note:"客厅墙面已完成找平与底漆，卫生间防水已做闭水试验；全屋线管/强弱电分离施工完成。",images:["/static/images/img_08b712f810.png","/static/images/img_8642388cea.png"]},recommends:[{name:"阳光花园三期 2室",rooms:"2室1厅",price:"72万",size:"89",image:"/static/images/img_71f4809787.png"},{name:"金地名津 精装大三房",rooms:"3室2厅",price:"98万",size:"96",image:"/static/images/img_1112597ba0.png"},{name:"万科四季花城",rooms:"3室2厅",price:"105万",size:"110",image:"/static/images/img_662c3c598a.png"}]}),onLoad(){const t=e.index$1.getSystemInfoSync();this.statusBarHeight=t.statusBarHeight;try{if(void 0!==e.wx$1&&e.wx$1.getMenuButtonBoundingClientRect){const a=e.wx$1.getMenuButtonBoundingClientRect(),o=Number(t.windowWidth||375),n=80*(o/750),s=Number(a.top||0)+Number(a.height||0)/2-n/2;this.headerTop=Math.max(Number(this.statusBarHeight||0),Math.round(s))}else this.headerTop=this.statusBarHeight+12}catch(a){this.headerTop=this.statusBarHeight+12}},methods:{onPageScroll(e){const t=Number(e&&e.detail&&e.detail.scrollTop||0),a=Math.min(1,t/160);this.headerOpacity=Math.max(0,Math.min(1,Number(a.toFixed(3))))},goBack(){e.index$1.navigateBack()},swiperChange(e){this.currentSwiper=e.detail.current},handleShare(){const t="129-1# 全屋智能 拎包入住 随时看房 南北通透";e.index$1.showActionSheet({itemList:["生成获客海报","复制房源链接","模拟分享（占位）"],success:a=>{if(0!==a.tapIndex)if(1!==a.tapIndex)2===a.tapIndex&&e.index$1.showToast({title:"分享功能待接入",icon:"none"});else{const a="/pages/property_detail/property_detail";e.index$1.setClipboardData({data:`${t}\n${a}`,success:()=>e.index$1.showToast({title:"已复制链接",icon:"none"})})}else e.index$1.navigateTo({url:`/pages/marketing_posters/marketing_posters?title=${encodeURIComponent(t)}`})}})},openMap(){e.index$1.openLocation({latitude:39.9042,longitude:116.4074,name:"幸福里小区",address:"北京市",fail:()=>{e.index$1.showToast({title:"无法打开地图",icon:"none"})}})},toggleFollow(){this.isFollowed=!this.isFollowed,e.index$1.showToast({title:this.isFollowed?"已关注":"已取消关注",icon:"none"})},callOwner(){e.index$1.makePhoneCall({phoneNumber:this.ownerPhone})},openLock(){e.index$1.navigateTo({url:this.hasSmartLock?"/pages/unlock_steps/unlock_steps":"/pages/unlock_details/unlock_details"})},setRenovationStatus(e){this.renovation.status=e}}};const o=e._export_sfc(a,[["render",function(a,o,n,s,i,r){return e.e({a:1-i.headerOpacity,b:i.headerOpacity,c:i.headerOpacity>.65?1:"",d:e.o(((...e)=>r.goBack&&r.goBack(...e))),e:i.headerTop+"px",f:e.f(i.images,((e,t,a)=>({a:e,b:t}))),g:e.o(((...e)=>r.swiperChange&&r.swiperChange(...e))),h:e.t(i.currentSwiper+1),i:e.t(i.images.length),j:e.o(((...e)=>r.handleShare&&r.handleShare(...e))),k:e.f(i.attributes,((t,a,o)=>({a:e.t(t.label),b:e.t(t.value),c:a}))),l:e.f(i.renovationTabs,((t,a,o)=>({a:e.t(t.label),b:t.key,c:i.renovation.status===t.key?1:"",d:e.o((e=>r.setRenovationStatus(t.key)),t.key)}))),m:e.t("none"===i.renovation.status?"未装修":"in_progress"===i.renovation.status?"装修进行中":"装修完成"),n:e.n(i.renovation.status),o:e.t(i.renovation.subtitle),p:"none"===i.renovation.status},"none"===i.renovation.status?{}:"in_progress"===i.renovation.status?{r:e.f(i.renovation.images,((e,t,a)=>({a:e,b:t}))),s:i.renovation.progress+"%",t:e.t(i.renovation.progress),v:e.t(i.renovation.stage),w:e.t(i.renovation.eta),x:e.f(i.renovation.materials,((t,a,o)=>({a:e.t(t),b:"m-"+a}))),y:e.t(i.renovation.note)}:{z:e.t(i.renovation.finishAt),A:e.f(i.renovation.materials,((t,a,o)=>({a:e.t(t),b:"dm-"+a}))),B:e.t(i.renovation.note)},{q:"in_progress"===i.renovation.status,C:e.o(((...e)=>r.openMap&&r.openMap(...e))),D:t._imports_0,E:e.o(((...e)=>r.openMap&&r.openMap(...e))),F:e.f(i.recommends,((t,a,o)=>({a:t.image,b:e.t(t.size),c:e.t(t.name),d:e.t(t.rooms),e:e.t(t.price),f:a}))),G:e.o(((...e)=>r.onPageScroll&&r.onPageScroll(...e))),H:e.o(((...e)=>r.callOwner&&r.callOwner(...e))),I:i.isFollowed},(i.isFollowed,{}),{J:e.o(((...e)=>r.toggleFollow&&r.toggleFollow(...e))),K:i.hasSmartLock},(i.hasSmartLock,{}),{L:e.t(i.hasSmartLock?"智能锁":"密码开锁"),M:e.o(((...e)=>r.openLock&&r.openLock(...e)))})}]]);a.__runtimeHooks=1,wx.createPage(o);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/property_detail/property_detail.js.map
