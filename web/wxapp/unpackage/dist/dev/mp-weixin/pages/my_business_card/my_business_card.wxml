<view class="card-container"><top-header wx:if="{{a}}" u-i="c3e32026-0" bind:__l="__l" u-p="{{a}}"/><view class="tabs-box"><view class="tabs-inner"><view class="{{['tab-item', b && 'active']}}" bindtap="{{c}}">名片预览</view><view class="{{['tab-item', d && 'active']}}" bindtap="{{e}}">编辑资料</view></view></view><view class="main-content"><view wx:if="{{f}}" class="preview-content"><view class="pagination-dots"><view wx:for="{{g}}" wx:for-item="_" wx:key="a" class="{{['dot', _.b && 'active']}}"></view></view><swiper class="card-swiper" circular indicator-dots="{{false}}" current="{{j}}" bindchange="{{k}}"><swiper-item wx:for="{{h}}" wx:for-item="c" wx:key="p"><view class="card-slide"><view class="business-card" style="{{'background:' + c.o}}"><view class="card-decor-1"></view><view class="card-decor-2" style="{{'background-color:' + c.a}}"></view><view class="card-inner"><view class="card-top"><view class="company-info"><view class="company-logo"><text class="material-symbols-outlined">apartment</text></view><text class="company-name">{{c.b}}</text></view><view class="pro-tag" style="{{'background-color:' + c.d}}"><text class="material-symbols-outlined pro-icon">verified</text><text>{{c.c}}</text></view></view><view class="card-middle"><image wx:if="{{c.e}}" class="card-avatar" src="{{c.f}}" mode="aspectFill"></image><view wx:else class="card-avatar card-avatar-empty"><text class="material-symbols-outlined">person</text></view><view class="card-user"><text class="card-name">{{c.g}}</text><text class="card-role">{{c.h}}</text></view><view class="card-tags"><text wx:for="{{c.i}}" wx:for-item="t" wx:key="b" class="card-tag">{{t.a}}</text></view></view><view class="card-bottom"><view class="contact-info"><view class="contact-item"><view class="contact-icon"><text class="material-symbols-outlined">call</text></view><view class="contact-text"><text class="contact-label">Phone</text><text class="contact-val">{{c.j}}</text></view></view></view><view class="extra-info"><view class="extra-text"><text class="extra-line"><text class="extra-label">微信号：</text><text class="extra-val">{{c.k}}</text></text><text class="extra-line"><text class="extra-label">门店：</text><text class="extra-val">{{c.l}}</text></text></view><view class="qr-code" bindtap="{{c.n}}"><image wx:if="{{i}}" class="qr-image" src="{{c.m}}" mode="aspectFill"></image><text wx:else class="material-symbols-outlined">qr_code_2</text></view></view></view></view></view></view></swiper-item></swiper><text class="swipe-tip">左右滑动切换名片样式</text></view><scroll-view wx:if="{{l}}" scroll-y="true" class="edit-scroll"><view class="edit-content"><view class="form-group"><view class="form-item" bindtap="{{o}}"><text class="label">头像</text><view class="val-box"><image wx:if="{{m}}" class="avatar" src="{{n}}" mode="aspectFill"></image><view wx:else class="avatar avatar-empty"><text class="material-symbols-outlined">person</text></view><text class="material-symbols-outlined arrow-icon">chevron_right</text></view></view><view class="form-item"><text class="label">姓名</text><view class="val-box"><input class="val-input" placeholder="请输入姓名" placeholder-class="val-placeholder" value="{{p}}" bindinput="{{q}}"/><text class="material-symbols-outlined arrow-icon">chevron_right</text></view></view><view class="form-item" bindtap="{{s}}"><text class="label">电话</text><view class="val-box"><text class="val">{{r}}</text><text class="material-symbols-outlined arrow-icon">chevron_right</text></view></view><view class="form-item"><text class="label">微信号</text><view class="val-box"><input class="val-input" placeholder="选填：用于名片展示" placeholder-class="val-placeholder" value="{{t}}" bindinput="{{v}}"/><text class="material-symbols-outlined arrow-icon">chevron_right</text></view></view><view class="form-item no-border"><text class="label">职位</text><view class="val-box"><input class="val-input" placeholder="如：资深置业顾问" placeholder-class="val-placeholder" value="{{w}}" bindinput="{{x}}"/><text class="material-symbols-outlined arrow-icon">chevron_right</text></view></view></view><view class="notice-section"><view class="form-group"><picker mode="selector" range="{{z}}" range-key="name" bindchange="{{A}}"><view class="form-item"><text class="label">门店</text><view class="val-box"><text class="val">{{y}}</text><text class="material-symbols-outlined arrow-icon">chevron_right</text></view></view></picker><view wx:if="{{B}}" class="form-item no-border"><text class="label">门店地址</text><text class="val small">{{C}}</text></view></view><text class="tip-text">* 门店可修改，建议选择与你当前服务区域一致的门店。</text></view><view class="form-group bio-group"><text class="label">自我介绍</text><block wx:if="{{r0}}"><textarea class="bio-textarea" placeholder="介绍一下你的从业经历和服务理念..." value="{{D}}" bindinput="{{E}}"></textarea></block></view><view class="form-group tags-group"><view class="tags-header"><text class="label">擅长领域</text><view class="add-tag-btn" bindtap="{{F}}"><text class="material-symbols-outlined add-icon">add</text><text>添加标签</text></view></view><view class="tags-row"><view wx:for="{{G}}" wx:for-item="t" wx:key="b" class="tag active" bindtap="{{t.c}}"><text>{{t.a}}</text><text class="material-symbols-outlined close-icon">close</text></view><view wx:for="{{H}}" wx:for-item="t" wx:key="b" class="tag" bindtap="{{t.c}}"><text>{{t.a}}</text><text class="material-symbols-outlined add-icon">add</text></view></view></view><view class="form-group recommend-group"><view class="tags-header"><text class="label">名片推荐房源</text><view class="add-tag-btn" bindtap="{{I}}"><text class="material-symbols-outlined add-icon">edit_square</text><text>设置</text></view></view><view wx:if="{{J}}" class="recommend-tags"><view wx:for="{{K}}" wx:for-item="item" wx:key="b" class="recommend-tag">{{item.a}}</view></view><view wx:else class="recommend-empty">未设置经纪人推荐房源</view><text class="tip-text">* 最多可设置 {{L}} 套，分享名片页会优先展示。</text></view></view></scroll-view></view><view wx:if="{{M}}" class="footer share-footer"><view class="share-options"><button class="share-item share-btn" open-type="share"><view class="share-icon green"><text class="material-symbols-outlined">chat_bubble</text></view><text class="share-label">发送给朋友</text></button><view class="share-item" bindtap="{{N}}"><view class="share-icon blue"><text class="material-symbols-outlined">image</text></view><text class="share-label">保存图片</text></view><view class="share-item" bindtap="{{O}}"><view class="share-icon orange"><text class="material-symbols-outlined">link</text></view><text class="share-label">复制链接</text></view><view class="share-item" bindtap="{{P}}"><view class="share-icon grey"><text class="material-symbols-outlined">more_horiz</text></view><text class="share-label">更多</text></view></view></view><view wx:if="{{Q}}" class="footer"><button class="save-btn" disabled="{{S}}" bindtap="{{T}}"><text class="material-symbols-outlined">save</text><text>{{R}}</text></button></view><view wx:if="{{U}}" class="mask-popup" bindtap="{{aa}}"><view class="popup-card" catchtap="{{Z}}"><view class="popup-title">添加标签</view><input class="popup-input" placeholder="如：学区房专家" placeholder-class="val-placeholder" maxlength="12" value="{{V}}" bindinput="{{W}}"/><view class="popup-actions"><button class="popup-btn ghost" bindtap="{{X}}">取消</button><button class="popup-btn primary" bindtap="{{Y}}">确定</button></view></view></view><view wx:if="{{ab}}" class="mask-popup" bindtap="{{aj}}"><view class="popup-card recommend-popup-card" catchtap="{{ai}}"><view class="popup-title">设置名片推荐房源</view><view class="popup-subtitle">最多选择 {{ac}} 套</view><scroll-view scroll-y="true" class="recommend-popup-list"><view wx:for="{{ad}}" wx:for-item="item" wx:key="e" class="recommend-popup-item" bindtap="{{item.f}}"><view class="recommend-popup-main"><view class="recommend-popup-title">{{item.a}}</view><view class="recommend-popup-meta">{{item.b}}</view></view><text class="{{['material-symbols-outlined', 'check-icon', item.d && 'active']}}">{{item.c}}</text></view></scroll-view><view class="popup-actions"><button class="popup-btn ghost" bindtap="{{ae}}"> 取消 </button><button class="popup-btn primary" disabled="{{ag}}" bindtap="{{ah}}">{{af}}</button></view></view></view><bottom-tab-bar wx:if="{{ak}}" u-i="c3e32026-1" bind:__l="__l" u-p="{{ak}}"/><canvas canvas-id="cardCanvas" id="cardCanvas" class="hidden-canvas" style="{{'width:' + al + ';' + ('height:' + am)}}" width="{{an}}" height="{{ao}}"></canvas></view>