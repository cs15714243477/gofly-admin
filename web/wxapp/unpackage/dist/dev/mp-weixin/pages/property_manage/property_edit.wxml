<view class="pe"><top-header wx:if="{{b}}" u-s="{{['left']}}" u-i="1a62e9f2-0" bind:__l="__l" u-p="{{b}}"><view class="icon-btn" bindtap="{{a}}" slot="left"><text class="material-symbols-outlined">arrow_back</text></view></top-header><scroll-view scroll-y="true" class="content"><view class="card"><view class="card-title">基础信息</view><view class="form-row"><text class="label required">房源标题</text><input class="input" type="text" maxlength="100" placeholder="请输入房源标题" placeholder-class="placeholder" value="{{c}}" bindinput="{{d}}"/></view><view class="grid"><view class="form-row"><text class="label required">销售状态</text><picker mode="selector" range="{{f}}" value="{{g}}" bindchange="{{h}}"><view class="picker"><text class="picker-text">{{e}}</text><text class="material-symbols-outlined picker-ic">expand_more</text></view></picker></view><view class="form-row"><text class="label">价格</text><view class="price-row"><input class="input" type="digit" placeholder="0" placeholder-class="placeholder" value="{{i}}" bindinput="{{j}}"/><picker mode="selector" range="{{l}}" value="{{m}}" bindchange="{{n}}"><view class="unit-picker"><text class="unit-text">{{k}}</text><text class="material-symbols-outlined unit-ic">expand_more</text></view></picker></view></view><view class="form-row"><text class="label">面积(㎡)</text><input class="input" type="digit" placeholder="0" placeholder-class="placeholder" value="{{o}}" bindinput="{{p}}"/></view><view class="form-row"><text class="label">户型</text><view class="room-row"><input class="mini" type="number" placeholder="室" placeholder-class="placeholder" value="{{q}}" bindinput="{{r}}"/><text class="mini-suffix">室</text><input class="mini" type="number" placeholder="厅" placeholder-class="placeholder" value="{{s}}" bindinput="{{t}}"/><text class="mini-suffix">厅</text><input class="mini" type="number" placeholder="卫" placeholder-class="placeholder" value="{{v}}" bindinput="{{w}}"/><text class="mini-suffix">卫</text></view></view></view></view><view class="card"><view class="card-title">房源参数</view><view class="grid"><view class="form-row"><text class="label">建成年份</text><picker mode="selector" range="{{y}}" value="{{z}}" bindchange="{{A}}"><view class="picker"><text class="picker-text">{{x}}</text><text class="material-symbols-outlined picker-ic">expand_more</text></view></picker></view><view class="form-row"><text class="label">楼层位置</text><picker mode="selector" range="{{C}}" value="{{D}}" bindchange="{{E}}"><view class="picker"><text class="picker-text">{{B}}</text><text class="material-symbols-outlined picker-ic">expand_more</text></view></picker></view><view class="form-row"><text class="label">总楼层</text><input class="input" type="number" placeholder="共多少层" placeholder-class="placeholder" value="{{F}}" bindinput="{{G}}"/></view><view class="form-row"><text class="label">朝向</text><picker mode="selector" range="{{I}}" value="{{J}}" bindchange="{{K}}"><view class="picker"><text class="picker-text">{{H}}</text><text class="material-symbols-outlined picker-ic">expand_more</text></view></picker></view><view class="form-row"><text class="label">物业类型</text><picker mode="selector" range="{{M}}" value="{{N}}" bindchange="{{O}}"><view class="picker"><text class="picker-text">{{L}}</text><text class="material-symbols-outlined picker-ic">expand_more</text></view></picker></view><view class="form-row"><text class="label">装修标准</text><picker mode="selector" range="{{Q}}" value="{{R}}" bindchange="{{S}}"><view class="picker"><text class="picker-text">{{P}}</text><text class="material-symbols-outlined picker-ic">expand_more</text></view></picker></view></view></view><view class="card"><view class="card-title">房主与收房</view><view class="grid"><view class="form-row"><text class="label">房主姓名</text><input class="input" type="text" placeholder="可选" placeholder-class="placeholder" value="{{T}}" bindinput="{{U}}"/></view><view class="form-row"><text class="label">房主电话</text><input class="input" type="number" placeholder="可选" placeholder-class="placeholder" value="{{V}}" bindinput="{{W}}"/></view><view class="form-row"><text class="label">收房人姓名</text><input class="input" type="text" placeholder="可选" placeholder-class="placeholder" value="{{X}}" bindinput="{{Y}}"/></view><view class="form-row"><text class="label">收房人电话</text><input class="input" type="number" placeholder="可选" placeholder-class="placeholder" value="{{Z}}" bindinput="{{aa}}"/></view></view><view class="form-row"><text class="label">收房价格(支付业主)</text><input class="input" type="digit" placeholder="未填写" placeholder-class="placeholder" value="{{ab}}" bindinput="{{ac}}"/></view></view><view class="card"><view class="card-title">图片</view><view class="hint">建议上传清晰横图，点击图片可设置封面/删除</view><view class="media-grid"><view wx:for="{{ad}}" wx:for-item="img" wx:key="c" class="media-item" bindtap="{{img.d}}"><image class="media-img" src="{{img.a}}" mode="aspectFill"></image><view wx:if="{{img.b}}" class="badge">封面</view></view><view class="media-item add" bindtap="{{ae}}"><text class="material-symbols-outlined add-ic">add_photo_alternate</text><text class="add-text">添加</text></view></view><view class="switch-row"><view class="switch-left"><text class="material-symbols-outlined sw-ic">download</text><text class="sw-text">允许下载图片</text></view><switch checked="{{af}}" bindchange="{{ag}}" color="#2563eb"/></view></view><view class="card"><view class="card-title">视频</view><view class="hint">支持单个房源视频，建议 10-30 秒</view><view class="video-box" bindtap="{{aj}}"><view wx:if="{{ah}}" class="video-empty"><text class="material-symbols-outlined video-ic">movie</text><view class="video-texts"><text class="video-title">未上传视频</text><text class="video-sub">点击上传/更换</text></view></view><video wx:else class="video" src="{{ai}}" controls object-fit="cover"></video></view><view class="switch-row"><view class="switch-left"><text class="material-symbols-outlined sw-ic">download</text><text class="sw-text">允许下载视频</text></view><switch checked="{{ak}}" bindchange="{{al}}" color="#2563eb"/></view></view><view class="card"><view class="card-title">标签</view><view class="tag-row"><view wx:for="{{am}}" wx:for-item="t" wx:key="c" class="tag"><text class="tag-text">{{t.a}}</text><text class="material-symbols-outlined tag-x" catchtap="{{t.b}}">close</text></view><view wx:if="{{an}}" class="hint small">暂无标签</view></view><view class="tag-add"><input class="input" type="text" maxlength="12" placeholder="输入标签（最多6个）" placeholder-class="placeholder" value="{{ao}}" bindinput="{{ap}}"/><button class="btn add" bindtap="{{aq}}">添加</button></view></view><view class="card"><view class="card-title">位置</view><view class="form-row"><text class="label">小区名称</text><input class="input" type="text" placeholder="请输入小区/楼盘" placeholder-class="placeholder" value="{{ar}}" bindinput="{{as}}"/></view><view class="form-row"><text class="label">省市区</text><picker mode="region" value="{{av}}" bindchange="{{aw}}"><view class="picker"><text class="picker-text">{{at}}</text><text class="material-symbols-outlined picker-ic">expand_more</text></view></picker></view><view class="form-row"><text class="label">详细地址</text><input class="input" type="text" placeholder="街道、门牌号、楼栋单元等" placeholder-class="placeholder" value="{{ax}}" bindinput="{{ay}}"/></view><view class="coord-row"><view class="coord-left"><text class="material-symbols-outlined coord-ic">my_location</text><text class="coord-text">{{az}}</text></view><button class="btn ghost" bindtap="{{aA}}">地图选点</button></view></view><view class="card"><view class="card-title">发布与佣金</view><view class="grid"><view class="form-row"><text class="label">佣金比例(%)</text><input class="input" type="digit" placeholder="0-100" placeholder-class="placeholder" value="{{aB}}" bindinput="{{aC}}"/></view><view class="form-row"><text class="label">成交奖励金</text><input class="input" type="digit" placeholder="0" placeholder-class="placeholder" value="{{aD}}" bindinput="{{aE}}"/></view><view class="form-row"><text class="label">排序权重</text><input class="input" type="number" placeholder="0" placeholder-class="placeholder" value="{{aF}}" bindinput="{{aG}}"/></view><view class="form-row"><text class="label">智能门锁</text><view class="picker disabled"><text class="picker-text">{{aH}}</text><text class="material-symbols-outlined picker-ic">lock</text></view><view class="hint small tip">门锁请在后台/详情页绑定</view></view></view><view class="switch-row"><view class="switch-left"><text class="material-symbols-outlined sw-ic">stars</text><text class="sw-text">推荐房源</text></view><switch checked="{{aI}}" bindchange="{{aJ}}" color="#2563eb"/></view><view class="switch-row"><view class="switch-left"><text class="material-symbols-outlined sw-ic">visibility</text><text class="sw-text">房源启用</text></view><switch checked="{{aK}}" bindchange="{{aL}}" color="#2563eb"/></view></view><view class="card"><view class="card-title">装修进度</view><view class="hint">装修信息无需单独保存，点击底部“保存”会一起提交</view><view class="form-row"><text class="label">装修状态</text><picker mode="selector" range="{{aN}}" value="{{aO}}" bindchange="{{aP}}"><view class="picker"><text class="picker-text">{{aM}}</text><text class="material-symbols-outlined picker-ic">expand_more</text></view></picker><view wx:if="{{aQ}}" class="hint small tip">请先保存房源生成ID后再维护装修进度</view></view><view wx:if="{{aR}}" class="grid"><view class="form-row"><text class="label">进度(%)</text><input class="input" type="number" placeholder="0-100" placeholder-class="placeholder" value="{{aS}}" bindinput="{{aT}}"/></view><view class="form-row"><text class="label">当前阶段</text><picker mode="selector" range="{{aV}}" value="{{aW}}" bindchange="{{aX}}"><view class="picker"><text class="picker-text">{{aU}}</text><text class="material-symbols-outlined picker-ic">expand_more</text></view></picker></view><view class="form-row"><text class="label">开始日期</text><picker mode="date" value="{{aZ}}" bindchange="{{ba}}"><view class="picker"><text class="picker-text">{{aY}}</text><text class="material-symbols-outlined picker-ic">calendar_month</text></view></picker></view><view class="form-row"><text class="label">预计完工</text><picker mode="date" value="{{bc}}" bindchange="{{bd}}"><view class="picker"><text class="picker-text">{{bb}}</text><text class="material-symbols-outlined picker-ic">event</text></view></picker></view><view class="form-row"><text class="label">实际完工</text><picker mode="date" value="{{bf}}" bindchange="{{bg}}"><view class="picker"><text class="picker-text">{{be}}</text><text class="material-symbols-outlined picker-ic">verified</text></view></picker></view></view><view wx:if="{{bh}}"><view class="form-row"><text class="label">材料</text><view class="tag-row"><view wx:for="{{bi}}" wx:for-item="t" wx:key="c" class="tag"><text class="tag-text">{{t.a}}</text><text class="material-symbols-outlined tag-x" catchtap="{{t.b}}">close</text></view><view wx:if="{{bj}}" class="hint small">暂无材料</view></view><view class="tag-add"><input class="input" type="text" maxlength="12" placeholder="输入材料（最多10个）" placeholder-class="placeholder" value="{{bk}}" bindinput="{{bl}}"/><button class="btn add" bindtap="{{bm}}">添加</button></view></view><view class="form-row"><text class="label">装修图片</text><view class="media-grid"><view wx:for="{{bn}}" wx:for-item="img" wx:key="b" class="media-item" bindtap="{{img.c}}"><image class="media-img" src="{{img.a}}" mode="aspectFill"></image></view><view class="media-item add" bindtap="{{bo}}"><text class="material-symbols-outlined add-ic">add_photo_alternate</text><text class="add-text">添加</text></view></view></view><view class="form-row"><text class="label">施工说明</text><block wx:if="{{r0}}"><textarea class="textarea" maxlength="500" placeholder="可选：记录进度说明、施工要点等" placeholder-class="placeholder" value="{{bp}}" bindinput="{{bq}}"></textarea></block></view><view class="renovation-actions"><button class="btn ghost" disabled="{{br}}" bindtap="{{bs}}"> 刷新 </button></view></view></view><view class="bottom-spacer"></view></scroll-view><view class="footer"><button class="footer-btn ghost" disabled="{{bt}}" bindtap="{{bv}}"> 预览 </button><button class="footer-btn primary" disabled="{{bx}}" bindtap="{{by}}">{{bw}}</button></view></view>