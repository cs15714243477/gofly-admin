"use strict";const t=require("../../common/vendor.js"),n=require("../../api/user.js"),i={data:()=>({key:"",title:"文档",content:"",url:"",loading:!0}),computed:{isExternalUrl(){return/^https?:\/\//i.test(String(this.url||"").trim())}},onLoad(t){const n=t&&t.key?decodeURIComponent(t.key):"";this.key=String(n||"").trim(),this.loadDoc()},methods:{async loadDoc(){this.loading=!0;try{const i=await n.userApi.getLoginDocs(!1);if(!i||0!==i.code||!i.data||!Array.isArray(i.data.docs))return;const e=i.data.docs.find((t=>String(t&&t.key?t.key:"").trim()===this.key));if(!e)return;this.title=String(e.title||"").trim()||"文档",this.content=String(e.content||"").trim(),this.url=String(e.url||"").trim(),t.index$1.setNavigationBarTitle({title:this.title})}finally{this.loading=!1}},copyUrl(){this.url?t.index$1.setClipboardData({data:this.url,success:()=>{t.index$1.showToast({title:"链接已复制",icon:"none"})}}):t.index$1.showToast({title:"暂无可复制链接",icon:"none"})}}};const e=t._export_sfc(i,[["render",function(n,i,e,r,o,s){return t.e({a:!o.loading&&!o.content&&s.isExternalUrl},o.loading||o.content||!s.isExternalUrl?{}:{b:o.url},{c:o.loading||o.content||!s.isExternalUrl},o.loading||o.content||!s.isExternalUrl?t.e({d:o.loading},o.loading?{}:o.content?{f:o.content}:{g:t.t(o.title||"文档"),h:t.t(o.url||"暂无链接"),i:t.o(((...t)=>s.copyUrl&&s.copyUrl(...t)))},{e:o.content}):{})}]]);wx.createPage(e);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/doc_webview/doc_webview.js.map
