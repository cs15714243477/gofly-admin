{"version":3,"file":"TopHeader.js","sources":["components/TopHeader.vue","D:/WinApp/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RTovV29yay9Qcm9nZWN0L0dvRmx5LWFkbWluL21haW4tYWRtaW4vd2ViL3d4YXBwL2NvbXBvbmVudHMvVG9wSGVhZGVyLnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"th\" :style=\"wrapStyle\">\r\n\t\t<view class=\"th__inner\" :style=\"innerStyle\">\r\n\t\t\t<view v-if=\"$slots.left\" class=\"th__left\">\r\n\t\t\t\t<slot name=\"left\"></slot>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"th__center\">\r\n\t\t\t\t<slot v-if=\"$slots.default\"></slot>\r\n\t\t\t\t<text v-else class=\"th__title\">{{ title }}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"th__right\">\r\n\t\t\t\t<slot name=\"right\"></slot>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tname: 'TopHeader',\r\n\t\tprops: {\r\n\t\t\ttitle: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tpadPx: 0,\r\n\t\t\t\trightSafePx: 0,\r\n\t\t\t\tstatusBarPx: 0,\r\n\t\t\t\tnavBarPx: 0\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\twrapStyle() {\r\n\t\t\t\t// 小程序端：把状态栏高度算进去，避免内容贴顶；其他端保持原样\r\n\t\t\t\tif (!this.statusBarPx || !this.navBarPx) return {}\r\n\t\t\t\treturn {\r\n\t\t\t\t\tpaddingTop: this.statusBarPx + 'px',\r\n\t\t\t\t\theight: this.statusBarPx + this.navBarPx + 'px'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tinnerStyle() {\r\n\t\t\t\t// 默认走 rpx padding；仅 MP-WEIXIN 运行时用 px 覆盖，以便精确避开胶囊按钮\r\n\t\t\t\tconst style = {}\r\n\t\t\t\tif (this.padPx) {\r\n\t\t\t\t\tstyle.paddingLeft = this.padPx + 'px'\r\n\t\t\t\t\tstyle.paddingRight = this.padPx + this.rightSafePx + 'px'\r\n\t\t\t\t}\r\n\t\t\t\t// 小程序端：导航栏高度跟随胶囊按钮高度（更接近原生）\r\n\t\t\t\tif (this.navBarPx) style.height = this.navBarPx + 'px'\r\n\t\t\t\treturn style\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\ttry {\r\n\t\t\t\tconst info = uni.getSystemInfoSync()\r\n\t\t\t\tconst w = Number(info.windowWidth || 375)\r\n\t\t\t\tconst statusBar = Number(info.statusBarHeight || 0)\r\n\t\t\t\t// 32rpx -> px（750 设计稿）\r\n\t\t\t\tconst pad = Math.round((w * 32) / 750)\r\n\t\t\t\tlet rightSafe = 0\r\n\t\t\t\tlet navBarH = 0\r\n\t\t\t\tif (typeof wx !== 'undefined' && wx.getMenuButtonBoundingClientRect) {\r\n\t\t\t\t\tconst rect = wx.getMenuButtonBoundingClientRect()\r\n\t\t\t\t\t// 预留胶囊区域：从胶囊左边到屏幕右侧的宽度\r\n\t\t\t\t\trightSafe = Math.max(0, w - Number(rect.left || 0))\r\n\t\t\t\t\t// 导航栏高度：更接近微信原生的计算方式\r\n\t\t\t\t\tnavBarH = Math.max(44, (Number(rect.top || 0) - statusBar) * 2 + Number(rect.height || 0)) || 44\r\n\t\t\t\t}\r\n\t\t\t\tthis.padPx = pad\r\n\t\t\t\tthis.rightSafePx = rightSafe\r\n\t\t\t\t// 与胶囊按钮垂直居中对齐：使用原生推荐计算，不额外下移\r\n\t\t\t\tthis.statusBarPx = statusBar\r\n\t\t\t\tthis.navBarPx = navBarH\r\n\t\t\t} catch (e) {\r\n\t\t\t\t// ignore\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.th {\r\n\t\twidth: 100%;\r\n\t\tbackground: rgba(255, 255, 255, 0.92);\r\n\t\tbackdrop-filter: blur(12px);\r\n\t\t-webkit-backdrop-filter: blur(12px);\r\n\t\tborder-bottom: 1rpx solid rgba(226, 232, 240, 0.9);\r\n\t\tbox-sizing: border-box;\r\n\t\tbox-shadow: 0 6rpx 18rpx rgba(15, 23, 42, 0.04);\r\n\t}\r\n\r\n\t.th__inner {\r\n\t\theight: 96rpx;\r\n\t\tpadding: 0 32rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tposition: relative;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.th__center {\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.th__title {\r\n\t\ttext-align: left;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t\tfont-size: 36rpx;\r\n\t\tfont-weight: 800;\r\n\t\tcolor: #0f172a;\r\n\t\tletter-spacing: 0.6rpx;\r\n\t\tline-height: 1;\r\n\t\tmargin: 0 24rpx 0 0;\r\n\t}\r\n\r\n\t.th__left {\r\n\t\tmin-width: 96rpx;\r\n\t\theight: 96rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: flex-start;\r\n\t}\r\n\r\n\t.th__right {\r\n\t\tmin-width: 96rpx;\r\n\t\theight: 96rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: flex-end;\r\n\t}\r\n</style>\r\n\r\n","import Component from 'E:/Work/Progect/GoFly-admin/main-admin/web/wxapp/components/TopHeader.vue'\nwx.createComponent(Component)"],"names":["uni","wx"],"mappings":";;AAkBC,MAAK,YAAU;AAAA,EACd,MAAM;AAAA,EACN,OAAO;AAAA,IACN,OAAO;AAAA,MACN,MAAM;AAAA,MACN,SAAS;AAAA,IACV;AAAA,EACA;AAAA,EACD,OAAO;AACN,WAAO;AAAA,MACN,OAAO;AAAA,MACP,aAAa;AAAA,MACb,aAAa;AAAA,MACb,UAAU;AAAA,IACX;AAAA,EACA;AAAA,EACD,UAAU;AAAA,IACT,YAAY;AAEX,UAAI,CAAC,KAAK,eAAe,CAAC,KAAK;AAAU,eAAO,CAAC;AACjD,aAAO;AAAA,QACN,YAAY,KAAK,cAAc;AAAA,QAC/B,QAAQ,KAAK,cAAc,KAAK,WAAW;AAAA,MAC5C;AAAA,IACA;AAAA,IACD,aAAa;AAEZ,YAAM,QAAQ,CAAC;AACf,UAAI,KAAK,OAAO;AACf,cAAM,cAAc,KAAK,QAAQ;AACjC,cAAM,eAAe,KAAK,QAAQ,KAAK,cAAc;AAAA,MACtD;AAEA,UAAI,KAAK;AAAU,cAAM,SAAS,KAAK,WAAW;AAClD,aAAO;AAAA,IACR;AAAA,EACA;AAAA,EACD,UAAU;AAET,QAAI;AACH,YAAM,OAAOA,cAAG,QAAC,kBAAkB;AACnC,YAAM,IAAI,OAAO,KAAK,eAAe,GAAG;AACxC,YAAM,YAAY,OAAO,KAAK,mBAAmB,CAAC;AAElD,YAAM,MAAM,KAAK,MAAO,IAAI,KAAM,GAAG;AACrC,UAAI,YAAY;AAChB,UAAI,UAAU;AACd,UAAI,OAAOC,cAAC,SAAM,eAAeA,cAAAA,KAAG,iCAAiC;AACpE,cAAM,OAAOA,cAAE,KAAC,gCAAgC;AAEhD,oBAAY,KAAK,IAAI,GAAG,IAAI,OAAO,KAAK,QAAQ,CAAC,CAAC;AAElD,kBAAU,KAAK,IAAI,KAAK,OAAO,KAAK,OAAO,CAAC,IAAI,aAAa,IAAI,OAAO,KAAK,UAAU,CAAC,CAAC,KAAK;AAAA,MAC/F;AACA,WAAK,QAAQ;AACb,WAAK,cAAc;AAEnB,WAAK,cAAc;AACnB,WAAK,WAAW;AAAA,IACjB,SAAS,GAAG;AAAA,IAEZ;AAAA,EAED;AACD;;;;;;;;;;;;;;ACjFD,GAAG,gBAAgB,SAAS;"}