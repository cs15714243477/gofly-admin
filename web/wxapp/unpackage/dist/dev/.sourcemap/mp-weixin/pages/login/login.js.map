{"version":3,"file":"login.js","sources":["pages/login/login.vue","D:/WinApp/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbG9naW4vbG9naW4udnVl"],"sourcesContent":["<template>\r\n\t<view class=\"login-container\">\r\n\t\t<!-- 顶部导航栏 -->\r\n\t\t<!-- <view class=\"nav-bar\">\r\n\t\t\t<view class=\"back-btn\" @click=\"goBack\">\r\n\t\t\t\t<text class=\"material-symbols-outlined\">arrow_back</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"nav-title\">经纪人登录</view>\r\n\t\t\t<view class=\"placeholder-box\"></view>\r\n\t\t</view> -->\r\n\r\n\t\t<view class=\"body\">\r\n\t\t\t<view class=\"main\">\r\n\t\t\t\t<!-- Logo -->\r\n\t\t\t\t<view class=\"logo-box\">\r\n\t\t\t\t\t<view class=\"logo-icon\">\r\n\t\t\t\t\t\t<text class=\"material-symbols-outlined logo-symbol\">real_estate_agent</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- 标题 -->\r\n\t\t\t\t<view class=\"header\">\r\n\t\t\t\t\t<view class=\"title\">极速房 欢迎你</view>\r\n\t\t\t\t\t<view class=\"subtitle\">高效管理房源 · 智能门锁一键通</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- 特别提示 -->\r\n\t\t\t\t<view class=\"alert-box\">\r\n\t\t\t\t\t<view class=\"alert-icon\">\r\n\t\t\t\t\t\t<text class=\"material-symbols-outlined warning-icon\">warning</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"alert-text\">\r\n\t\t\t\t\t\t特别提示：使用本系统用户能够通过手机获得房源智能门锁开启权限，账号仅限经纪人本人使用，严禁外借他用。\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- 登录表单 -->\r\n\t\t\t\t<view class=\"form\">\r\n\t\t\t\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t\t\t\t<!-- 微信一键登录（手机号授权）——默认只显示这个 -->\r\n\t\t\t\t\t<button class=\"wx-login-btn\" open-type=\"getPhoneNumber\" @getphonenumber=\"onGetPhoneNumber\">\n\t\t\t\t\t\t<text class=\"material-symbols-outlined wx-icon\">phone_iphone</text>\n\t\t\t\t\t\t<text>微信一键登录</text>\n\t\t\t\t\t</button>\n\t\t\t\t\t<!-- 临时注释：更多登录方式先隐藏\n\t\t\t\t\t<button class=\"more-login-btn\" @click=\"toggleMoreLogin\">\n\t\t\t\t\t\t<text>{{ showMoreLogin ? '收起其他登录方式' : '更多登录方式' }}</text>\n\t\t\t\t\t\t<text class=\"material-symbols-outlined more-icon\">{{ showMoreLogin ? 'expand_less' : 'expand_more' }}</text>\n\t\t\t\t\t</button>\n\t\t\t\t\t-->\n\t\t\t\t\t<!-- #endif -->\n\n\t\t\t\t\t<!-- #ifdef MP-WEIXIN -->\n\t\t\t\t\t<!-- 临时注释：更多登录方式先隐藏\n\t\t\t\t\t<view v-if=\"showMoreLogin\">\n\t\t\t\t\t\t<view class=\"divider-row\">\n\t\t\t\t\t\t\t<view class=\"divider-line\"></view>\n\t\t\t\t\t\t\t<text class=\"divider-text\">手机号验证码登录</text>\n\t\t\t\t\t\t\t<view class=\"divider-line\"></view>\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<view class=\"form-item\">\r\n\t\t\t\t\t\t\t<view class=\"label\">手机号</view>\r\n\t\t\t\t\t\t\t<view class=\"input-wrapper\">\r\n\t\t\t\t\t\t\t\t<text class=\"material-symbols-outlined input-icon\">smartphone</text>\r\n\t\t\t\t\t\t\t\t<input v-model=\"mobile\" class=\"input\" type=\"tel\" maxlength=\"11\" placeholder=\"请输入11位手机号码\" placeholder-class=\"placeholder\" />\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<view class=\"form-item\">\r\n\t\t\t\t\t\t\t<view class=\"label\">验证码</view>\r\n\t\t\t\t\t\t\t<view class=\"input-wrapper\">\r\n\t\t\t\t\t\t\t\t<text class=\"material-symbols-outlined input-icon\">shield</text>\r\n\t\t\t\t\t\t\t\t<input v-model=\"captcha\" class=\"input\" type=\"number\" maxlength=\"6\" placeholder=\"请输入验证码\" placeholder-class=\"placeholder\" />\r\n\t\t\t\t\t\t\t\t<button class=\"code-btn\">获取验证码</button>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<button class=\"login-btn\" :disabled=\"submitting\" @click=\"handleLogin\">{{ submitting ? '登录中...' : '登录' }}</button>\r\n\r\n\t\t\t\t\t\t<view class=\"footer-links\">\n\t\t\t\t\t\t\t<text class=\"text-grey\">还没有账号？</text>\n\t\t\t\t\t\t\t<text class=\"link-text\" @click=\"goToRegister\">完善信息</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t-->\n\t\t\t\t\t<!-- #endif -->\n\r\n\t\t\t\t\t<!-- #ifndef MP-WEIXIN -->\r\n\t\t\t\t\t<view class=\"form-item\">\r\n\t\t\t\t\t\t<view class=\"label\">手机号</view>\r\n\t\t\t\t\t\t<view class=\"input-wrapper\">\r\n\t\t\t\t\t\t\t<text class=\"material-symbols-outlined input-icon\">smartphone</text>\r\n\t\t\t\t\t\t\t<input v-model=\"mobile\" class=\"input\" type=\"tel\" maxlength=\"11\" placeholder=\"请输入11位手机号码\" placeholder-class=\"placeholder\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"form-item\">\r\n\t\t\t\t\t\t<view class=\"label\">验证码</view>\r\n\t\t\t\t\t\t<view class=\"input-wrapper\">\r\n\t\t\t\t\t\t\t<text class=\"material-symbols-outlined input-icon\">shield</text>\r\n\t\t\t\t\t\t\t<input v-model=\"captcha\" class=\"input\" type=\"number\" maxlength=\"6\" placeholder=\"请输入验证码\" placeholder-class=\"placeholder\" />\r\n\t\t\t\t\t\t\t<button class=\"code-btn\">获取验证码</button>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<button class=\"login-btn\" :disabled=\"submitting\" @click=\"handleLogin\">{{ submitting ? '登录中...' : '登录' }}</button>\r\n\r\n\t\t\t\t\t<view class=\"footer-links\">\r\n\t\t\t\t\t\t<text class=\"text-grey\">还没有账号？</text>\r\n\t\t\t\t\t\t<text class=\"link-text\" @click=\"goToRegister\">完善信息</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 底部协议（固定贴底，避免撑高出现滚动） -->\n\t\t\t<view class=\"bottom-agreements\">\n\t\t\t\t<text class=\"agreement-link\" :class=\"{ disabled: !hasAgreementDoc('user_agreement') }\" @click=\"openAgreement('user_agreement')\">{{ agreementDocs.user_agreement.title }}</text>\n\t\t\t\t<text class=\"divider\">|</text>\n\t\t\t\t<text class=\"agreement-link\" :class=\"{ disabled: !hasAgreementDoc('privacy_policy') }\" @click=\"openAgreement('privacy_policy')\">{{ agreementDocs.privacy_policy.title }}</text>\n\t\t\t\t<text class=\"divider\">|</text>\n\t\t\t\t<text class=\"agreement-link\" :class=\"{ disabled: !hasAgreementDoc('help_center') }\" @click=\"openAgreement('help_center')\">{{ agreementDocs.help_center.title }}</text>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\r\n<script>\r\n\timport $store from '@/store'\n\timport userApi from '@/api/user'\n\texport default {\n\t\tonLoad() {\n\t\t\tthis.loadAgreementDocs()\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tmobile: '',\n\t\t\t\tcaptcha: '',\n\t\t\t\tsubmitting: false,\n\t\t\t\tagreementDocs: {\n\t\t\t\t\tuser_agreement: { title: '用户协议', content: '', url: '' },\n\t\t\t\t\tprivacy_policy: { title: '隐私政策', content: '', url: '' },\n\t\t\t\t\thelp_center: { title: '帮助中心', content: '', url: '' }\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tgoBack() {\r\n\t\t\t\tuni.navigateBack()\r\n\t\t\t},\r\n\t\t\tgoToRegister() {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/registration/registration?mode=complete'\n\t\t\t\t})\n\t\t\t},\n\t\t\tasync loadAgreementDocs() {\n\t\t\t\ttry {\n\t\t\t\t\tconst res = await userApi.getLoginDocs(false)\n\t\t\t\t\tif (!res || res.code !== 0 || !res.data || !Array.isArray(res.data.docs)) return\n\t\t\t\t\tconst nextDocs = { ...this.agreementDocs }\n\t\t\t\t\tres.data.docs.forEach((item) => {\n\t\t\t\t\t\tconst key = String(item && item.key ? item.key : '').trim()\n\t\t\t\t\t\tif (!key || !nextDocs[key]) return\n\t\t\t\t\t\tconst title = String(item && item.title ? item.title : '').trim()\n\t\t\t\t\t\tconst content = String(item && item.content ? item.content : '').trim()\n\t\t\t\t\t\tconst url = String(item && item.url ? item.url : '').trim()\n\t\t\t\t\t\tnextDocs[key] = {\n\t\t\t\t\t\t\ttitle: title || nextDocs[key].title,\n\t\t\t\t\t\t\tcontent,\n\t\t\t\t\t\t\turl,\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tthis.agreementDocs = nextDocs\n\t\t\t\t} catch (e) {}\n\t\t\t},\n\t\t\thasAgreementDoc(key) {\n\t\t\t\tconst doc = (this.agreementDocs && this.agreementDocs[key]) ? this.agreementDocs[key] : null\n\t\t\t\tif (!doc) return false\n\t\t\t\treturn !!(String(doc.content || '').trim() || String(doc.url || '').trim())\n\t\t\t},\n\t\t\topenAgreement(key) {\n\t\t\t\tconst doc = (this.agreementDocs && this.agreementDocs[key]) ? this.agreementDocs[key] : null\n\t\t\t\tconst title = doc && doc.title ? String(doc.title).trim() : '文档'\n\t\t\t\tconst content = doc && doc.content ? String(doc.content).trim() : ''\n\t\t\t\tconst url = doc && doc.url ? String(doc.url).trim() : ''\n\t\t\t\tif (!content && !url) {\n\t\t\t\t\tuni.showToast({ title: `${title}暂未配置`, icon: 'none' })\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tif (content) {\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl: `/pages/doc_webview/doc_webview?key=${encodeURIComponent(key)}`\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tif (/^https?:\\/\\//i.test(url)) {\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl: `/pages/doc_webview/doc_webview?key=${encodeURIComponent(key)}`\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tuni.navigateTo({ url })\n\t\t\t},\n\t\t\tasync handleLogin() {\n\t\t\t\tif (!this.mobile || String(this.mobile).length !== 11) {\n\t\t\t\t\tuni.showToast({ title: '请输入11位手机号', icon: 'none' })\n\t\t\t\t\treturn\n\t\t\t\t}\r\n\t\t\t\tif (!this.captcha) {\r\n\t\t\t\t\tuni.showToast({ title: '请输入验证码', icon: 'none' })\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif (this.submitting) return\r\n\t\t\t\tthis.submitting = true\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst res = await userApi.login({ mobile: this.mobile, captcha: this.captcha })\r\n\t\t\t\t\tif (!res || res.code !== 0) return\r\n\t\t\t\t\t// token 由后端 token 字段返回，拦截器也会自动 setToken；这里兜底一次\r\n\t\t\t\t\tif (res.token) $store('user').setToken(res.token)\r\n\t\t\t\t\tawait $store('user').getInfo().catch(() => {})\r\n\t\t\t\t\tthis.afterLoginSuccess()\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tthis.submitting = false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// #ifdef MP-WEIXIN\n\t\t\tonGetPhoneNumber(e) {\n\t\t\t\t// 需要用户点击按钮触发；e.detail.code 需传后端换取手机号（解密）\r\n\t\t\t\tconst phoneCode = e && e.detail && e.detail.code\r\n\t\t\t\tif (!phoneCode) {\r\n\t\t\t\t\tuni.showToast({ title: '未授权手机号', icon: 'none' })\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif (this.submitting) return\r\n\t\t\t\tthis.submitting = true\r\n\t\t\t\tuni.login({\r\n\t\t\t\t\tprovider: 'weixin',\r\n\t\t\t\t\tsuccess: async (loginRes) => {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tconst wxCode = loginRes && loginRes.code\r\n\t\t\t\t\t\t\tconst res = await userApi.wxLogin({ wx_code: wxCode, phone_code: phoneCode })\r\n\t\t\t\t\t\t\tif (!res || res.code !== 0) return\r\n\t\t\t\t\t\t\tif (res.token) $store('user').setToken(res.token)\r\n\t\t\t\t\t\t\tawait $store('user').getInfo().catch(() => {})\r\n\t\t\t\t\t\t\tthis.afterLoginSuccess()\r\n\t\t\t\t\t\t} finally {\r\n\t\t\t\t\t\t\tthis.submitting = false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\tthis.submitting = false\r\n\t\t\t\t\t\tuni.showToast({ title: '获取微信登录凭证失败', icon: 'none' })\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// #endif\r\n\t\t\tafterLoginSuccess() {\r\n\t\t\t\t// 登录成功后默认进入房源列表（tab 最左）\r\n\t\t\t\tuni.reLaunch({ url: '/pages/property_list/property_list' })\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.login-container {\r\n\t\theight: 100vh;\r\n\t\tbackground-color: #f6f7f8;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.nav-bar {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding: 40rpx 30rpx 20rpx;\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\twidth: 100%;\r\n\t\tz-index: 10;\r\n\t\tbox-sizing: border-box;\r\n\r\n\t\t.back-btn {\r\n\t\t\twidth: 96rpx;\r\n\t\t\theight: 96rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\tborder-radius: 50%;\r\n\r\n\t\t\t.material-symbols-outlined {\r\n\t\t\t\tcolor: #64748b;\r\n\t\t\t\tfont-size: 48rpx;\r\n\t\t\t}\r\n\r\n\t\t\t&:active {\r\n\t\t\t\tbackground-color: rgba(226, 232, 240, 0.5);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.nav-title {\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tfont-weight: 500;\r\n\t\t\tcolor: #64748b;\r\n\t\t}\r\n\r\n\t\t.placeholder-box {\r\n\t\t\twidth: 96rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t.body {\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: stretch;\r\n\t\tpadding: 140rpx 48rpx 0;\r\n\t\tmax-width: 960rpx;\r\n\t\tmargin: 0 auto;\r\n\t\twidth: 100%;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.main {\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tmin-height: 0;\r\n\t}\r\n\r\n\t.logo-box {\r\n\t\tmargin-bottom: 48rpx;\r\n\r\n\t\t.logo-icon {\r\n\t\t\twidth: 160rpx;\r\n\t\t\theight: 160rpx;\r\n\t\t\tbackground: linear-gradient(135deg, #2d9cf0 0%, #1a7ab5 100%);\r\n\t\t\tborder-radius: 32rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\tbox-shadow: 0 10rpx 30rpx rgba(45, 156, 240, 0.2);\r\n\t\t\ttransition: transform 0.3s;\r\n\r\n\t\t\t&:active {\r\n\t\t\t\ttransform: scale(1.05);\r\n\t\t\t}\r\n\r\n\t\t\t.logo-symbol {\r\n\t\t\t\tcolor: #ffffff;\r\n\t\t\t\tfont-size: 80rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.header {\r\n\t\ttext-align: center;\r\n\t\tmargin-bottom: 48rpx;\r\n\r\n\t\t.title {\r\n\t\t\tfont-size: 64rpx;\r\n\t\t\tfont-weight: bold;\r\n\t\t\tcolor: #0d151c;\r\n\t\t\tline-height: 1.2;\r\n\t\t\tmargin-bottom: 24rpx;\r\n\t\t}\r\n\r\n\t\t.subtitle {\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tcolor: #64748b;\r\n\t\t\tfont-weight: 400;\r\n\t\t}\r\n\t}\r\n\r\n\t.alert-box {\r\n\t\twidth: 100%;\r\n\t\tbackground-color: #fef2f2;\r\n\t\tborder: 1px solid #fee2e2;\r\n\t\tborder-radius: 24rpx;\r\n\t\tpadding: 28rpx;\r\n\t\tdisplay: flex;\r\n\t\tgap: 24rpx;\r\n\t\tmargin-bottom: 40rpx;\r\n\t\tbox-shadow: 0 2rpx 4rpx rgba(0, 0, 0, 0.05);\r\n\t\tbox-sizing: border-box;\r\n\r\n\t\t.warning-icon {\r\n\t\t\tcolor: #dc2626;\r\n\t\t\tfont-size: 40rpx;\r\n\t\t}\r\n\r\n\t\t.alert-text {\r\n\t\t\tflex: 1;\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: #dc2626;\r\n\t\t\tfont-weight: 500;\r\n\t\t\tline-height: 1.6;\r\n\t\t\ttext-align: justify;\r\n\t\t}\r\n\t}\r\n\r\n\t.form {\r\n\t\twidth: 100%;\r\n\r\n\t\t.wx-login-btn {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 104rpx;\r\n\t\t\tbackground-color: #10b981;\r\n\t\t\tcolor: #ffffff;\r\n\t\t\tfont-size: 36rpx;\r\n\t\t\tfont-weight: bold;\r\n\t\t\tborder-radius: 24rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\tgap: 16rpx;\r\n\t\t\tbox-shadow: 0 8rpx 20rpx rgba(16, 185, 129, 0.22);\r\n\t\t\tborder: none;\r\n\t\t\tmargin-bottom: 26rpx;\r\n\r\n\t\t\t&::after { border: none; }\r\n\t\t\t&:active { background-color: #059669; transform: scale(0.98); }\r\n\r\n\t\t\t.wx-icon { font-size: 44rpx; }\r\n\t\t}\r\n\r\n\t\t.more-login-btn {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 84rpx;\r\n\t\t\tbackground-color: #ffffff;\r\n\t\t\tborder: 1px solid #e2e8f0;\r\n\t\t\tcolor: #334155;\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tfont-weight: 800;\r\n\t\t\tborder-radius: 24rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\tgap: 10rpx;\r\n\t\t\tbox-shadow: 0 6rpx 16rpx rgba(15, 23, 42, 0.05);\r\n\t\t\tmargin-bottom: 22rpx;\r\n\r\n\t\t\t&::after { border: none; }\r\n\t\t\t&:active { background-color: #f8fafc; transform: scale(0.99); }\r\n\r\n\t\t\t.more-icon { font-size: 36rpx; color: #64748b; }\r\n\t\t}\r\n\r\n\t\t.divider-row {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tgap: 16rpx;\r\n\t\t\tmargin-bottom: 22rpx;\r\n\t\t\tcolor: #94a3b8;\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tfont-weight: 600;\r\n\r\n\t\t\t.divider-line {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\theight: 1px;\r\n\t\t\t\tbackground-color: #e2e8f0;\r\n\t\t\t}\r\n\r\n\t\t\t.divider-text { white-space: nowrap; }\r\n\t\t}\r\n\r\n\t\t.form-item {\r\n\t\t\tmargin-bottom: 28rpx;\r\n\r\n\t\t\t.label {\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tfont-weight: 500;\r\n\t\t\t\tcolor: #0d151c;\r\n\t\t\t\tmargin-bottom: 16rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.input-wrapper {\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t.input-icon {\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tleft: 28rpx;\r\n\t\t\t\t\tcolor: #94a3b8;\r\n\t\t\t\t\tfont-size: 40rpx;\r\n\t\t\t\t\tz-index: 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.input {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 104rpx;\r\n\t\t\t\t\tbackground-color: #ffffff;\r\n\t\t\t\t\tborder: 1px solid #cfdde8;\r\n\t\t\t\t\tborder-radius: 24rpx;\r\n\t\t\t\t\tpadding-left: 88rpx;\r\n\t\t\t\t\tpadding-right: 32rpx;\r\n\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\tcolor: #0d151c;\r\n\t\t\t\t\ttransition: all 0.3s;\r\n\t\t\t\t\tbox-sizing: border-box;\r\n\r\n\t\t\t\t\t&:focus {\r\n\t\t\t\t\t\tborder-color: #2d9cf0;\r\n\t\t\t\t\t\tbox-shadow: 0 0 0 4rpx rgba(45, 156, 240, 0.1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.code-btn {\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tright: 16rpx;\r\n\t\t\t\t\theight: 72rpx;\r\n\t\t\t\t\tbackground-color: rgba(45, 156, 240, 0.05);\r\n\t\t\t\t\tcolor: #2d9cf0;\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tfont-weight: 600;\r\n\t\t\t\t\tpadding: 0 24rpx;\r\n\t\t\t\t\tborder-radius: 16rpx;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\tborder: none;\r\n\t\t\t\t\tline-height: 1;\r\n\t\t\t\t\tz-index: 2;\r\n\r\n\t\t\t\t\t&::after {\r\n\t\t\t\t\t\tborder: none;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t&:active {\r\n\t\t\t\t\t\tbackground-color: rgba(45, 156, 240, 0.1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.login-btn {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 104rpx;\r\n\t\t\tbackground-color: #2d9cf0;\r\n\t\t\tcolor: #ffffff;\r\n\t\t\tfont-size: 36rpx;\r\n\t\t\tfont-weight: bold;\r\n\t\t\tborder-radius: 24rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\tmargin-top: 32rpx;\r\n\t\t\tbox-shadow: 0 8rpx 20rpx rgba(45, 156, 240, 0.2);\r\n\t\t\tborder: none;\r\n\r\n\t\t\t&::after {\r\n\t\t\t\tborder: none;\r\n\t\t\t}\r\n\r\n\t\t\t&:active {\r\n\t\t\t\tbackground-color: #1a7ab5;\r\n\t\t\t\ttransform: scale(0.98);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.footer-links {\r\n\t\t\tmargin-top: 36rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: center;\r\n\t\t\talign-items: center;\r\n\t\t\tfont-size: 28rpx;\r\n\r\n\t\t\t.text-grey {\r\n\t\t\t\tcolor: #64748b;\r\n\t\t\t}\r\n\r\n\t\t\t.link-text {\r\n\t\t\t\tcolor: #2d9cf0;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\tmargin-left: 8rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.bottom-agreements {\r\n\t\tpadding: 24rpx 0 calc(env(safe-area-inset-bottom) + 24rpx);\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\tgap: 24rpx;\r\n\r\n\t\t.agreement-link {\n\t\t\tfont-size: 24rpx;\n\t\t\tcolor: #94a3b8;\n\t\t\tfont-weight: 500;\n\n\t\t\t&:active {\n\t\t\t\tcolor: #2d9cf0;\n\t\t\t}\n\n\t\t\t&.disabled {\n\t\t\t\tcolor: #cbd5e1;\n\t\t\t}\n\t\t}\n\r\n\t\t.divider {\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #e2e8f0;\r\n\t\t}\r\n\t}\r\n\r\n\t.placeholder {\r\n\t\tcolor: #94a3b8;\r\n\t}\r\n</style>\r\n","import MiniProgramPage from 'E:/Work/Progect/GoFly-admin/main-admin/web/wxapp/pages/login/login.vue'\nwx.createPage(MiniProgramPage)"],"names":["_sfc_main","onLoad","this","loadAgreementDocs","data","mobile","captcha","submitting","agreementDocs","user_agreement","title","content","url","privacy_policy","help_center","methods","goBack","uni","navigateBack","goToRegister","navigateTo","res","userApi","getLoginDocs","code","Array","isArray","docs","nextDocs","forEach","item","key","String","trim","e","hasAgreementDoc","doc","openAgreement","test","encodeURIComponent","showToast","icon","handleLogin","length","login","token","$store","setToken","getInfo","catch","afterLoginSuccess","index$1","onGetPhoneNumber","phoneCode","detail","provider","success","async","loginRes","wxCode","wxLogin","wx_code","phone_code","fail","reLaunch","wx","createPage","MiniProgramPage"],"mappings":"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"}