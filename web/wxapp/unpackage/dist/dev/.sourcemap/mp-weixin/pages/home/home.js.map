{"version":3,"file":"home.js","sources":["pages/home/home.vue","D:/WinApp/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaG9tZS9ob21lLnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"home-container\">\n    <!-- 顶部导航：使用 TopHeader 统一计算状态栏/胶囊高度，避免贴顶且不遮挡 -->\n    <view class=\"header\">\n      <TopHeader title=\"推荐\" />\n    </view>\n\n    <scroll-view scroll-y=\"true\" class=\"main-content\">\n      <!-- 地区选择 + 搜索：放在 Banner 上方 -->\n      <view class=\"top-tools\">\n        <view class=\"top-tools__inner\">\n          <!-- 左上角：省份选择（优先定位，失败默认辽宁） -->\n          <view class=\"city-selector\" @click=\"selectProvince\">\n            <text class=\"city-name\">{{ provinceName }}</text>\n            <text class=\"material-symbols-outlined expand-icon\"\n              >expand_more</text\n            >\n          </view>\n          <view class=\"search-box\">\n            <text class=\"material-symbols-outlined search-icon\">search</text>\n            <input\n              v-model=\"keyword\"\n              class=\"search-input\"\n              type=\"text\"\n              confirm-type=\"search\"\n              placeholder=\"搜索区、小区、地址...\"\n              placeholder-class=\"placeholder\"\n              @confirm=\"onSearchConfirm\"\n            />\n          </view>\n          <!-- 更多筛选：移到搜索栏右侧，避免下方文字拥挤 -->\n          <view\n            class=\"more-btn\"\n            :class=\"{ active: filters.more.length > 0 }\"\n            @click=\"openPanel('more')\"\n          >\n            <text class=\"material-symbols-outlined\">tune</text>\n            <view v-if=\"filters.more.length > 0\" class=\"more-dot\"></view>\n          </view>\n        </view>\n      </view>\n\n      <!-- Banner -->\n      <view class=\"banner-section\">\n        <view class=\"banner-card\">\n          <swiper class=\"banner-swiper\" circular :indicator-dots=\"false\">\n            <swiper-item v-for=\"(img, idx) in bannerImages\" :key=\"idx\">\n              <image class=\"banner-image\" :src=\"img\" mode=\"aspectFill\"></image>\n            </swiper-item>\n          </swiper>\n        </view>\n      </view>\n\n      <!-- 筛选条 (这里简单实现，不处理吸顶逻辑，UniApp中可以用sticky) -->\n      <view class=\"filter-bar\">\n        <!-- 市 / 区：左侧二级联动选择 -->\n        <view\n          class=\"filter-item\"\n          :class=\"{ active: !!filters.location }\"\n          @click=\"openLocationPicker\"\n        >\n          <text class=\"filter-text\">{{ filterLabelLocation }}</text>\n          <text class=\"material-symbols-outlined filter-icon\">expand_more</text>\n        </view>\n        <view\n          class=\"filter-item\"\n          :class=\"{ active: !!filters.filter }\"\n          @click=\"openPanel('filter')\"\n        >\n          <text class=\"filter-text\">{{ filterLabelFilter }}</text>\n          <text class=\"material-symbols-outlined filter-icon\">expand_more</text>\n        </view>\n        <view\n          class=\"filter-item\"\n          :class=\"{ active: !!filters.sort }\"\n          @click=\"openPanel('sort')\"\n        >\n          <text class=\"filter-text\">{{ filterLabelSort }}</text>\n          <text class=\"material-symbols-outlined filter-icon\">swap_vert</text>\n        </view>\n      </view>\n\n      <!-- 我关注的房源 -->\n      <view class=\"section\">\n        <view class=\"section-header\">\n          <view class=\"section-title\">\n            <text class=\"material-symbols-outlined section-icon accent\"\n              >favorite</text\n            >\n            <text class=\"title-text\">我关注的房源</text>\n          </view>\n          <view class=\"section-more\" @click=\"viewAllFollowed\">\n            <text>全部 ({{ followedTotal }})</text>\n            <text class=\"material-symbols-outlined more-icon\"\n              >chevron_right</text\n            >\n          </view>\n        </view>\n        <view\n          v-if=\"!followedProperties || followedProperties.length === 0\"\n          class=\"followed-empty\"\n        >\n          <view class=\"empty-card\">\n            <text class=\"material-symbols-outlined empty-icon\">favorite</text>\n            <view class=\"empty-title\">暂无关注房源</view>\n            <view class=\"empty-desc\">在房源详情页点击关注后，会在这里展示</view>\n            <view class=\"empty-actions\">\n              <button class=\"empty-btn ghost\" @click=\"viewAllFollowed\">\n                去逛逛\n              </button>\n            </view>\n          </view>\n        </view>\n        <scroll-view v-else scroll-x=\"true\" class=\"horizontal-scroll\">\n          <view\n            class=\"property-card-h\"\n            v-for=\"(item, index) in followedProperties\"\n            :key=\"index\"\n            @click=\"goToDetail(item)\"\n          >\n            <view\n              class=\"card-image\"\n              :class=\"{ 'is-disabled': isSoldOrOff(item.sale_status) }\"\n              :style=\"{ backgroundImage: 'url(' + item.image + ')' }\"\n            >\n              <view class=\"image-tag\">{{\n                item.property_type || item.type\n              }}</view>\n              <view class=\"price-change-tag\" v-if=\"item.priceChange\">{{\n                item.priceChange\n              }}</view>\n              <view\n                class=\"status-tag\"\n                v-if=\"getSaleStatusLabel(item.sale_status)\"\n                :class=\"getSaleStatusClass(item.sale_status)\"\n              >\n                {{ getSaleStatusLabel(item.sale_status) }}\n              </view>\n              <view class=\"lock-tag\" v-if=\"Number(item.has_smart_lock) === 1\"\n                >智能锁</view\n              >\n            </view>\n            <view class=\"card-info\">\n              <view class=\"property-name\">{{ item.name }}</view>\n              <view class=\"mini-tags\" v-if=\"ensureTags(item.tags).length\">\n                <text\n                  class=\"mini-tag\"\n                  v-for=\"(tag, tIdx) in ensureTags(item.tags).slice(0, 2)\"\n                  :key=\"tIdx\"\n                  >{{ tag }}</text\n                >\n              </view>\n              <view class=\"property-meta\">\n                <text>{{ formatFollowedMeta(item) }}</text>\n                <view class=\"price\">\n                  <text class=\"price-val\">¥{{ item.price }}</text>\n                  <text class=\"price-unit\">{{ getPriceUnit(item) }}</text>\n                </view>\n              </view>\n            </view>\n          </view>\n        </scroll-view>\n      </view>\n\n      <!-- 系统推荐 -->\n      <view class=\"section\">\n        <view class=\"section-header\">\n          <view class=\"section-title\">\n            <text class=\"material-symbols-outlined section-icon primary\"\n              >recommend</text\n            >\n            <text class=\"title-text\">系统推荐的房源</text>\n          </view>\n        </view>\n        <view class=\"vertical-list\">\n          <view\n            class=\"property-card-v\"\n            v-for=\"(item, index) in recommendedProperties\"\n            :key=\"index\"\n            @click=\"goToDetail(item)\"\n          >\n            <view\n              class=\"card-image-v\"\n              :class=\"{ 'is-disabled': isSoldOrOff(item.sale_status) }\"\n              :style=\"{ backgroundImage: 'url(' + item.image + ')' }\"\n            >\n              <view\n                class=\"status-tag-v\"\n                v-if=\"getSaleStatusLabel(item.sale_status)\"\n                :class=\"getSaleStatusClass(item.sale_status)\"\n              >\n                {{ getSaleStatusLabel(item.sale_status) }}\n              </view>\n              <view class=\"lock-tag-v\" v-if=\"Number(item.has_smart_lock) === 1\"\n                >智能锁</view\n              >\n            </view>\n            <view class=\"card-info-v\">\n              <view class=\"info-top\">\n                <text class=\"property-name-v\">{{ item.name }}</text>\n                <view class=\"price-v\">\n                  <text class=\"price-val\">¥{{ item.price }}</text>\n                  <text class=\"price-unit\">{{ getPriceUnit(item) }}</text>\n                </view>\n              </view>\n              <view class=\"property-location\">\n                <text class=\"material-symbols-outlined loc-icon\"\n                  >location_on</text\n                >\n                <text>{{ formatRecommendedMeta(item) }}</text>\n              </view>\n              <view class=\"tags\">\n                <text\n                  class=\"tag-item\"\n                  v-for=\"(tag, tIdx) in ensureTags(item.tags)\"\n                  :key=\"tIdx\"\n                  :class=\"{ 'tag-orange': tag === '新上' }\"\n                >\n                  {{ tag }}\n                </text>\n              </view>\n            </view>\n          </view>\n        </view>\n      </view>\n\n      <view class=\"bottom-spacer\"></view>\n    </scroll-view>\n\n    <!-- 底部导航栏 -->\n    <BottomTabBar active=\"home\" />\n\n    <!-- 筛选弹层（静态数据 + 交互） -->\n    <view v-if=\"panelOpen\" class=\"mask\" @click=\"closePanel\">\n      <view class=\"sheet\" @click.stop>\n        <view class=\"sheet-header\">\n          <text class=\"sheet-title\">{{ panelTitle }}</text>\n          <text class=\"sheet-action\" @click=\"resetPanel\">重置</text>\n        </view>\n\n        <!-- 单选：位置/筛选/排序 -->\n        <view v-if=\"panelType !== 'more'\" class=\"sheet-list\">\n          <view\n            v-for=\"(opt, idx) in panelOptions\"\n            :key=\"idx\"\n            class=\"sheet-item\"\n            :class=\"{ active: isOptionActive(opt) }\"\n            @click=\"selectSingle(opt)\"\n          >\n            <text class=\"sheet-item-text\">{{ opt.label }}</text>\n            <text\n              v-if=\"isOptionActive(opt)\"\n              class=\"material-symbols-outlined sheet-check\"\n              >check</text\n            >\n          </view>\n        </view>\n\n        <!-- 多选：更多 -->\n        <view v-else class=\"sheet-list\">\n          <view\n            v-for=\"(opt, idx) in panelOptions\"\n            :key=\"idx\"\n            class=\"sheet-item\"\n            :class=\"{ active: isMoreSelected(opt) }\"\n            @click=\"toggleMore(opt)\"\n          >\n            <text class=\"sheet-item-text\">{{ opt.label }}</text>\n            <text\n              v-if=\"isMoreSelected(opt)\"\n              class=\"material-symbols-outlined sheet-check\"\n              >check</text\n            >\n          </view>\n        </view>\n\n        <view class=\"sheet-footer\">\n          <button class=\"sheet-btn ghost\" @click=\"closePanel\">取消</button>\n          <button class=\"sheet-btn primary\" @click=\"applyPanel\">确定</button>\n        </view>\n      </view>\n    </view>\n\n    <!-- 市/区：左侧二级联动抽屉 -->\n    <view v-if=\"locationOpen\" class=\"loc-mask\" @click=\"closeLocationPicker\">\n      <view class=\"loc-drawer\" @click.stop>\n        <view class=\"loc-head\">\n          <text class=\"loc-title\">选择城市 / 区县</text>\n          <text class=\"loc-reset\" @click=\"resetLocationPicker\">重置</text>\n        </view>\n        <view class=\"loc-body\">\n          <scroll-view scroll-y class=\"loc-col loc-left\">\n            <view\n              v-for=\"c in locationCities\"\n              :key=\"c.key\"\n              class=\"loc-item\"\n              :class=\"{ active: locDraft.city === c.key }\"\n              @click=\"selectLocCity(c.key)\"\n            >\n              {{ c.label }}\n            </view>\n          </scroll-view>\n          <scroll-view scroll-y class=\"loc-col loc-right\">\n            <view\n              v-for=\"d in currentDistricts\"\n              :key=\"d.key\"\n              class=\"loc-item\"\n              :class=\"{ active: locDraft.district === d.key }\"\n              @click=\"locDraft.district = d.key\"\n            >\n              {{ d.label }}\n            </view>\n          </scroll-view>\n        </view>\n        <view class=\"loc-foot\">\n          <button class=\"loc-btn ghost\" @click=\"closeLocationPicker\">\n            取消\n          </button>\n          <button class=\"loc-btn primary\" @click=\"applyLocationPicker\">\n            确定\n          </button>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script>\nimport BottomTabBar from \"@/components/BottomTabBar.vue\";\nimport TopHeader from \"@/components/TopHeader.vue\";\nimport homeApi from \"@/api/home\";\n\nexport default {\n  components: { BottomTabBar, TopHeader },\n  onLoad() {\n    // 省份：优先读取缓存；定位失败默认辽宁（不做逆地理，避免引入第三方 key/域名）\n    const cached = uni.getStorageSync(\"hm_province_name\");\n    this.provinceName = cached || \"辽宁\";\n    // #ifdef MP-WEIXIN\n    uni.getLocation({\n      type: \"wgs84\",\n      success: () => {},\n      fail: () => {\n        this.provinceName = this.provinceName || \"辽宁\";\n      },\n    });\n    // #endif\n    this.loadHomeData();\n  },\n  data() {\n    return {\n      // 省份（左上角）\n      provinceName: \"辽宁\",\n      provinceOptions: [\"辽宁\", \"北京\", \"上海\", \"广东\", \"浙江\", \"江苏\"],\n\n      // 搜索关键词\n      keyword: \"\",\n\n      // 市/区二级联动（左侧抽屉）\n      locationOpen: false,\n      locationCities: [\n        {\n          key: \"shenyang\",\n          label: \"沈阳\",\n          districts: [\n            { key: \"heping\", label: \"和平区\" },\n            { key: \"shenhe\", label: \"沈河区\" },\n            { key: \"huanggu\", label: \"皇姑区\" },\n            { key: \"tiexi\", label: \"铁西区\" },\n          ],\n        },\n        {\n          key: \"dalian\",\n          label: \"大连\",\n          districts: [\n            { key: \"zhongshan\", label: \"中山区\" },\n            { key: \"xigang\", label: \"西岗区\" },\n            { key: \"shahekou\", label: \"沙河口区\" },\n            { key: \"ganjingzi\", label: \"甘井子区\" },\n          ],\n        },\n        {\n          key: \"anshan\",\n          label: \"鞍山\",\n          districts: [\n            { key: \"tiedong\", label: \"铁东区\" },\n            { key: \"tiexi\", label: \"铁西区\" },\n            { key: \"lixian\", label: \"立山区\" },\n          ],\n        },\n      ],\n      locDraft: { city: \"\", district: \"\" },\n\n      // 筛选栏（静态数据 + 交互）\n      filters: {\n        location: \"\",\n        filter: \"\",\n        sort: \"\",\n        more: [],\n      },\n      panelOpen: false,\n      panelType: \"\",\n      panelDraft: {\n        location: \"\",\n        filter: \"\",\n        sort: \"\",\n        more: [],\n      },\n      filterOptions: {\n        filter: [\n          { value: \"\", label: \"筛选\" },\n          { value: \"smart_lock\", label: \"智能锁\" },\n          { value: \"near_subway\", label: \"近地铁\" },\n          { value: \"new\", label: \"新上\" },\n          { value: \"price_drop\", label: \"降价\" },\n        ],\n        sort: [\n          { value: \"\", label: \"排序\" },\n          { value: \"recommend\", label: \"推荐优先\" },\n          { value: \"price_asc\", label: \"价格从低到高\" },\n          { value: \"price_desc\", label: \"价格从高到低\" },\n          { value: \"latest\", label: \"最新发布\" },\n        ],\n        more: [\n          { value: \"whole_rent\", label: \"整租\" },\n          { value: \"shared\", label: \"合租\" },\n          { value: \"elevator\", label: \"有电梯\" },\n          { value: \"south\", label: \"朝南\" },\n          { value: \"pet\", label: \"可养宠\" },\n        ],\n      },\n      bannerImages: [\n        // 示例图：可替换为你的 Banner 图地址\n        \"/static/images/img_28f6b412d7.png\",\n        \"/static/images/img_2abd9934e1.png\",\n        \"/static/images/img_48afe8538f.png\",\n      ],\n      followedTotal: 0,\n      followedProperties: [\n        {\n          name: \"阳光花园 · 2室1厅\",\n          area: \"朝阳区\",\n          size: \"85\",\n          price: \"6,500\",\n          type: \"住宅\",\n          priceChange: \"降价 ¥200\",\n          image: \"/static/images/img_48afe8538f.png\",\n        },\n        {\n          name: \"金域华府 A2\",\n          area: \"东城区\",\n          size: \"65\",\n          price: \"5,800\",\n          status: \"待看\",\n          image: \"/static/images/img_cd1f0409ce.png\",\n        },\n      ],\n      recommendedProperties: [\n        {\n          name: \"远洋万和城 · 3室2厅\",\n          price: \"9,200\",\n          region: \"海淀区\",\n          size: \"120\",\n          desc: \"近公园\",\n          status: \"急租\",\n          tags: [\"近地铁\", \"新上\"],\n          image: \"/static/images/img_28f6b412d7.png\",\n        },\n        {\n          name: \"柳溪公寓 · 开间\",\n          price: \"4,100\",\n          region: \"丰台区\",\n          size: \"45\",\n          desc: \"西向\",\n          tags: [\"随时入住\", \"免中介费\"],\n          image: \"/static/images/img_f7b0d6455a.png\",\n        },\n      ],\n    };\n  },\n  computed: {\n    filterLabelLocation() {\n      if (!this.filters.location) return \"市/区\";\n      const [cityKey, districtKey] = String(this.filters.location).split(\"|\");\n      const city = this.locationCities.find((c) => c.key === cityKey);\n      if (!city) return \"市/区\";\n      const district = (city.districts || []).find(\n        (d) => d.key === districtKey\n      );\n      return district ? `${city.label} · ${district.label}` : city.label;\n    },\n    /**\n     * 获取当前选中城市的所有区县列表\n     *\n     * @returns {Array} 当前选中城市的区县数组，如果没有城市则返回空数组\n     */\n    currentDistricts() {\n      const city =\n        this.locationCities.find((c) => c.key === this.locDraft.city) ||\n        this.locationCities[0];\n      return (city && city.districts) || [];\n    },\n    /**\n     * 获取筛选条件的显示标签\n     *\n     * 遍历筛选选项列表，查找与当前筛选值匹配的选项，\n     * 返回对应的显示标签。如果未找到匹配项，则返回默认的'筛选'文本。\n     *\n     * @returns {string} 筛选条件的显示标签，如果没有匹配项则返回'筛选'\n     */\n    filterLabelFilter() {\n      const hit = this.filterOptions.filter.find(\n        (x) => x.value === this.filters.filter\n      );\n      return hit ? hit.label : \"筛选\";\n    },\n    /**\n     * 获取排序条件的显示标签\n     *\n     * @returns {string} 排序条件的显示标签，如果没有匹配项则返回'排序'\n     */\n    filterLabelSort() {\n      const hit = this.filterOptions.sort.find(\n        (x) => x.value === this.filters.sort\n      );\n      return hit ? hit.label : \"排序\";\n    },\n    filterLabelMore() {\n      if (!this.filters.more || this.filters.more.length === 0) return \"更多\";\n      return `更多(${this.filters.more.length})`;\n    },\n    panelTitle() {\n      if (this.panelType === \"location\") return \"选择位置\";\n      if (this.panelType === \"filter\") return \"选择筛选\";\n      if (this.panelType === \"sort\") return \"选择排序\";\n      if (this.panelType === \"more\") return \"更多条件\";\n      return \"\";\n    },\n    panelOptions() {\n      return (this.filterOptions && this.filterOptions[this.panelType]) || [];\n    },\n  },\n  methods: {\n    async loadHomeData() {\n      let res;\n      try {\n        res = await homeApi.Homedata({\n          keyword: this.keyword || \"\",\n          location: this.filters.location || \"\",\n          filter: this.filters.filter || \"\",\n          sort: this.filters.sort || \"\",\n          more: Array.isArray(this.filters.more) ? this.filters.more : [],\n        });\n      } catch (e) {\n        // auth: true 且本地无 token 时会被请求拦截器 reject\n        if (!uni.getStorageSync(\"token\")) {\n          uni.reLaunch({ url: \"/pages/login/login\" });\n        }\n        return;\n      }\n      if (!res || res.code !== 0) return;\n      const data = res.data || {};\n      if (Array.isArray(data.bannerImages))\n        this.bannerImages = data.bannerImages;\n      if (typeof data.followedTotal === \"number\")\n        this.followedTotal = data.followedTotal;\n      if (Array.isArray(data.followedProperties))\n        this.followedProperties = data.followedProperties;\n      if (Array.isArray(data.recommendedProperties))\n        this.recommendedProperties = data.recommendedProperties;\n    },\n    onSearchConfirm() {\n      this.loadHomeData();\n    },\n    // 省份选择\n    selectProvince() {\n      uni.showActionSheet({\n        itemList: this.provinceOptions,\n        success: (res) => {\n          const name = this.provinceOptions[res.tapIndex];\n          if (!name) return;\n          this.provinceName = name;\n          uni.setStorageSync(\"hm_province_name\", name);\n          this.loadHomeData();\n        },\n      });\n    },\n\n    // 市/区：左侧二级联动\n    openLocationPicker() {\n      this.locationOpen = true;\n      const [cityKey, districtKey] = String(this.filters.location || \"\").split(\n        \"|\"\n      );\n      this.locDraft.city =\n        cityKey || (this.locationCities[0] && this.locationCities[0].key) || \"\";\n      this.locDraft.district = districtKey || \"\";\n\n      if (!this.locDraft.district) {\n        const city =\n          this.locationCities.find((c) => c.key === this.locDraft.city) ||\n          this.locationCities[0];\n        const first = city && city.districts && city.districts[0];\n        this.locDraft.district = (first && first.key) || \"\";\n      }\n    },\n    closeLocationPicker() {\n      this.locationOpen = false;\n    },\n    resetLocationPicker() {\n      const city = this.locationCities[0];\n      this.locDraft.city = (city && city.key) || \"\";\n      this.locDraft.district =\n        (city &&\n          city.districts &&\n          city.districts[0] &&\n          city.districts[0].key) ||\n        \"\";\n    },\n    selectLocCity(cityKey) {\n      this.locDraft.city = cityKey;\n      const city =\n        this.locationCities.find((c) => c.key === cityKey) ||\n        this.locationCities[0];\n      const first = city && city.districts && city.districts[0];\n      this.locDraft.district = (first && first.key) || \"\";\n    },\n    applyLocationPicker() {\n      if (!this.locDraft.city) {\n        this.filters.location = \"\";\n      } else {\n        this.filters.location = `${this.locDraft.city}|${\n          this.locDraft.district || \"\"\n        }`;\n      }\n      this.closeLocationPicker();\n      this.loadHomeData();\n    },\n\n    openPanel(type) {\n      this.panelType = type;\n      this.panelOpen = true;\n      this.panelDraft = {\n        location: this.filters.location,\n        filter: this.filters.filter,\n        sort: this.filters.sort,\n        more: Array.isArray(this.filters.more) ? [...this.filters.more] : [],\n      };\n    },\n    closePanel() {\n      this.panelOpen = false;\n      this.panelType = \"\";\n    },\n    resetPanel() {\n      if (this.panelType === \"location\") this.panelDraft.location = \"\";\n      if (this.panelType === \"filter\") this.panelDraft.filter = \"\";\n      if (this.panelType === \"sort\") this.panelDraft.sort = \"\";\n      if (this.panelType === \"more\") this.panelDraft.more = [];\n    },\n    applyPanel() {\n      this.filters = {\n        location: this.panelDraft.location,\n        filter: this.panelDraft.filter,\n        sort: this.panelDraft.sort,\n        more: Array.isArray(this.panelDraft.more)\n          ? [...this.panelDraft.more]\n          : [],\n      };\n      this.closePanel();\n      this.loadHomeData();\n    },\n    isOptionActive(opt) {\n      if (!opt) return false;\n      if (this.panelType === \"location\")\n        return this.panelDraft.location === opt.value;\n      if (this.panelType === \"filter\")\n        return this.panelDraft.filter === opt.value;\n      if (this.panelType === \"sort\") return this.panelDraft.sort === opt.value;\n      return false;\n    },\n    selectSingle(opt) {\n      if (!opt) return;\n      if (this.panelType === \"location\") this.panelDraft.location = opt.value;\n      if (this.panelType === \"filter\") this.panelDraft.filter = opt.value;\n      if (this.panelType === \"sort\") this.panelDraft.sort = opt.value;\n    },\n    isMoreSelected(opt) {\n      if (!opt) return false;\n      return (this.panelDraft.more || []).includes(opt.value);\n    },\n    toggleMore(opt) {\n      if (!opt) return;\n      const list = Array.isArray(this.panelDraft.more)\n        ? this.panelDraft.more\n        : [];\n      const idx = list.indexOf(opt.value);\n      if (idx >= 0) list.splice(idx, 1);\n      else list.push(opt.value);\n      this.panelDraft.more = list;\n    },\n    selectCity() {\n      console.log(\"选择城市\");\n    },\n    viewAllFollowed() {\n      uni.navigateTo({\n        url: \"/pages/property_list/property_list\",\n      });\n    },\n    goToDetail(item) {\n      const id = item && item.id ? item.id : \"\";\n      uni.navigateTo({\n        url: id\n          ? `/pages/property_detail/property_detail?id=${id}`\n          : \"/pages/property_detail/property_detail\",\n      });\n    },\n    ensureTags(v) {\n      if (!v) return [];\n      if (Array.isArray(v)) return v.filter((x) => !!x);\n      if (typeof v === \"string\")\n        return v\n          .split(\",\")\n          .map((x) => x.trim())\n          .filter((x) => !!x);\n      return [];\n    },\n    getPriceUnit(item) {\n      return (item && item.price_unit ? String(item.price_unit) : \"万\") || \"万\";\n    },\n    getSaleStatusLabel(v) {\n      const map = { on_sale: \"在售\", sold: \"已售\", off_market: \"下架\" };\n      return map[v] || \"\";\n    },\n    getSaleStatusClass(v) {\n      const map = {\n        on_sale: \"badge-success\",\n        sold: \"badge-default\",\n        off_market: \"badge-warning\",\n      };\n      return map[v] || \"badge-default\";\n    },\n    isSoldOrOff(v) {\n      return v === \"sold\" || v === \"off_market\";\n    },\n    getLayoutText(item) {\n      if (!item) return \"\";\n      const rooms = Number(item.rooms || 0);\n      const halls = Number(item.halls || 0);\n      const bathrooms = Number(item.bathrooms || 0);\n      if (rooms > 0 || halls > 0 || bathrooms > 0) {\n        return `${rooms}室${halls}厅${bathrooms}卫`;\n      }\n      return \"\";\n    },\n    formatFollowedMeta(item) {\n      const parts = [];\n      const loc =\n        item && (item.community_name || item.area)\n          ? String(item.community_name || item.area)\n          : \"\";\n      if (loc) parts.push(loc);\n      const layout = this.getLayoutText(item);\n      if (layout) parts.push(layout);\n      const size = item && item.size ? `${item.size}㎡` : \"\";\n      if (size) parts.push(size);\n      return parts.join(\" · \");\n    },\n    formatRecommendedMeta(item) {\n      const parts = [];\n      const loc =\n        item && (item.region || item.community_name)\n          ? String(item.region || item.community_name)\n          : \"\";\n      if (loc) parts.push(loc);\n      const layout = this.getLayoutText(item);\n      if (layout) parts.push(layout);\n      const size = item && item.size ? `${item.size}㎡` : \"\";\n      if (size) parts.push(size);\n      const type =\n        item && (item.property_type || item.desc)\n          ? String(item.property_type || item.desc)\n          : \"\";\n      if (type) parts.push(type);\n      return parts.join(\" · \");\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.home-container {\n  height: 100vh;\n  background-color: #f6f7f8;\n  display: flex;\n  flex-direction: column;\n}\n\n.header {\n  background-color: #ffffff;\n  /* 已改为 TopHeader 承担导航栏高度与左右间距 */\n  padding: 0;\n  z-index: 20;\n  box-shadow: 0 2rpx 10rpx rgba(0, 0, 0, 0.05);\n}\n\n.top-tools {\n  padding: 20rpx 32rpx 0;\n  background-color: #ffffff;\n}\n\n.top-tools__inner {\n  display: flex;\n  align-items: center;\n  gap: 24rpx;\n}\n\n.city-selector {\n  display: flex;\n  align-items: center;\n  gap: 4rpx;\n  flex-shrink: 0;\n\n  .city-name {\n    font-size: 32rpx;\n    font-weight: 800;\n    color: #0d151c;\n  }\n\n  .expand-icon {\n    font-size: 40rpx;\n    color: #0d151c;\n  }\n}\n\n.search-box {\n  flex: 1;\n  height: 80rpx;\n  background-color: #f6f7f8;\n  border-radius: 16rpx;\n  display: flex;\n  align-items: center;\n  padding: 0 24rpx;\n  border: 1px solid transparent;\n\n  .search-icon {\n    font-size: 40rpx;\n    color: #94a3b8;\n  }\n\n  .search-input {\n    flex: 1;\n    margin-left: 16rpx;\n    font-size: 28rpx;\n    color: #0d151c;\n  }\n}\n\n.main-content {\n  flex: 1;\n  overflow: hidden;\n}\n\n.banner-section {\n  padding: 16rpx 32rpx 24rpx;\n  background-color: #ffffff;\n}\n\n/* 市/区二级联动：底部半屏弹层（比左侧抽屉体验更好） */\n.loc-mask {\n  position: fixed;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(15, 23, 42, 0.45);\n  z-index: 999;\n  display: flex;\n  align-items: flex-end;\n  justify-content: center;\n}\n\n.loc-drawer {\n  width: 100%;\n  height: 62vh;\n  background: rgba(255, 255, 255, 0.96);\n  backdrop-filter: blur(14px);\n  -webkit-backdrop-filter: blur(14px);\n  box-shadow: 0 -10rpx 30rpx rgba(15, 23, 42, 0.12);\n  display: flex;\n  flex-direction: column;\n  border-radius: 32rpx 32rpx 0 0;\n}\n\n.loc-head {\n  padding: 24rpx 24rpx 16rpx;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: 1rpx solid rgba(226, 232, 240, 0.8);\n}\n\n.loc-title {\n  font-size: 30rpx;\n  font-weight: 800;\n  color: #0f172a;\n}\n\n.loc-reset {\n  font-size: 26rpx;\n  color: #64748b;\n  font-weight: 700;\n}\n\n.loc-body {\n  flex: 1;\n  display: flex;\n  overflow: hidden;\n}\n\n.loc-col {\n  height: 100%;\n}\n\n.loc-left {\n  width: 44%;\n  background-color: #f8fafc;\n  border-right: 1rpx solid rgba(226, 232, 240, 0.8);\n}\n\n.loc-right {\n  width: 56%;\n  background-color: #ffffff;\n}\n\n.loc-item {\n  padding: 24rpx 20rpx;\n  font-size: 28rpx;\n  color: #334155;\n}\n\n.loc-item.active {\n  color: #2d9cf0;\n  font-weight: 800;\n  background-color: rgba(45, 156, 240, 0.08);\n}\n\n.loc-foot {\n  padding: 16rpx 24rpx calc(env(safe-area-inset-bottom) + 24rpx);\n  display: flex;\n  gap: 16rpx;\n  border-top: 1rpx solid rgba(226, 232, 240, 0.8);\n}\n\n/* 顶部右侧“更多”按钮 */\n.more-btn {\n  width: 80rpx;\n  height: 80rpx;\n  border-radius: 16rpx;\n  background-color: #f6f7f8;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  flex-shrink: 0;\n  border: 1px solid rgba(226, 232, 240, 0.95);\n  box-shadow: 0 10rpx 24rpx rgba(15, 23, 42, 0.06);\n\n  .material-symbols-outlined {\n    font-size: 40rpx;\n    color: #0f172a;\n  }\n\n  &.active .material-symbols-outlined {\n    color: #2d9cf0;\n  }\n\n  &:active {\n    transform: scale(0.96);\n  }\n}\n\n.more-dot {\n  position: absolute;\n  top: 10rpx;\n  right: 10rpx;\n  width: 14rpx;\n  height: 14rpx;\n  background-color: #f97316;\n  border-radius: 50%;\n  border: 3rpx solid #f6f7f8;\n}\n\n.loc-btn {\n  flex: 1;\n  height: 80rpx;\n  border-radius: 20rpx;\n  font-size: 28rpx;\n  font-weight: 800;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  line-height: 1;\n  border: none;\n\n  &::after {\n    border: none;\n  }\n\n  &.ghost {\n    background-color: #f1f5f9;\n    color: #334155;\n  }\n\n  &.primary {\n    background-color: #2d9cf0;\n    color: #ffffff;\n  }\n}\n\n.banner-card {\n  width: 100%;\n  height: 240rpx;\n  border-radius: 24rpx;\n  position: relative;\n  overflow: hidden;\n  box-shadow: 0 10rpx 20rpx rgba(37, 99, 235, 0.2);\n}\n\n.banner-swiper {\n  width: 100%;\n  height: 100%;\n}\n\n.banner-image {\n  width: 100%;\n  height: 100%;\n  display: block;\n}\n\n.filter-bar {\n  position: sticky;\n  top: 0;\n  z-index: 10;\n  background-color: #ffffff;\n  display: flex;\n  align-items: center;\n  padding: 24rpx 32rpx;\n  gap: 16rpx;\n  border-bottom: 1rpx solid #f1f1f1;\n  box-shadow: 0 2rpx 4rpx rgba(0, 0, 0, 0.02);\n\n  .filter-item {\n    display: flex;\n    align-items: center;\n    gap: 8rpx;\n    flex: 1;\n    justify-content: center;\n    padding: 12rpx 16rpx;\n    background-color: #f6f7f8;\n    border-radius: 16rpx;\n    border: 1px solid transparent;\n\n    .filter-text {\n      font-size: 28rpx;\n      font-weight: 500;\n      color: #334155;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    .filter-icon {\n      font-size: 36rpx;\n      color: #94a3b8;\n    }\n\n    &.active {\n      background-color: rgba(45, 156, 240, 0.1);\n      border-color: rgba(45, 156, 240, 0.2);\n\n      .filter-text {\n        color: #2d9cf0;\n      }\n\n      .filter-icon {\n        color: #2d9cf0;\n      }\n    }\n  }\n}\n\n/* 筛选弹层 */\n.mask {\n  position: fixed;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(15, 23, 42, 0.45);\n  z-index: 999;\n  display: flex;\n  align-items: flex-end;\n}\n\n.sheet {\n  width: 100%;\n  background-color: #ffffff;\n  border-radius: 32rpx 32rpx 0 0;\n  padding: 24rpx 24rpx calc(env(safe-area-inset-bottom) + 24rpx);\n  box-sizing: border-box;\n}\n\n.sheet-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 16rpx;\n}\n\n.sheet-title {\n  font-size: 30rpx;\n  font-weight: 700;\n  color: #0f172a;\n}\n\n.sheet-action {\n  font-size: 26rpx;\n  color: #64748b;\n}\n\n.sheet-list {\n  max-height: 520rpx;\n  overflow: hidden;\n}\n\n.sheet-item {\n  height: 92rpx;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 8rpx;\n  border-bottom: 1rpx solid #f1f5f9;\n  color: #334155;\n  box-sizing: border-box;\n\n  &.active {\n    color: #2d9cf0;\n    font-weight: 700;\n  }\n}\n\n.sheet-item-text {\n  font-size: 28rpx;\n}\n\n.sheet-check {\n  font-size: 36rpx;\n}\n\n.sheet-footer {\n  display: flex;\n  gap: 16rpx;\n  margin-top: 16rpx;\n}\n\n.sheet-btn {\n  flex: 1;\n  height: 80rpx;\n  border-radius: 20rpx;\n  font-size: 28rpx;\n  font-weight: 700;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  line-height: 1;\n  border: none;\n\n  &::after {\n    border: none;\n  }\n\n  &.ghost {\n    background-color: #f1f5f9;\n    color: #334155;\n  }\n\n  &.primary {\n    background-color: #2d9cf0;\n    color: #ffffff;\n  }\n}\n\n.section {\n  padding: 32rpx 0;\n  display: flex;\n  flex-direction: column;\n  gap: 24rpx;\n\n  .section-header {\n    padding: 0 32rpx;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    .section-title {\n      display: flex;\n      align-items: center;\n      gap: 16rpx;\n\n      .section-icon {\n        font-size: 40rpx;\n\n        &.accent {\n          color: #f97316;\n        }\n\n        &.primary {\n          color: #2d9cf0;\n        }\n      }\n\n      .title-text {\n        font-size: 36rpx;\n        font-weight: bold;\n        color: #0f172a;\n      }\n    }\n\n    .section-more {\n      display: flex;\n      align-items: center;\n      font-size: 24rpx;\n      color: #64748b;\n\n      .more-icon {\n        font-size: 28rpx;\n      }\n    }\n  }\n}\n\n.horizontal-scroll {\n  white-space: nowrap;\n  padding: 0 32rpx 8rpx;\n  width: 100%;\n  box-sizing: border-box;\n\n  .property-card-h {\n    display: inline-flex;\n    flex-direction: column;\n    width: 560rpx;\n    background-color: #ffffff;\n    border-radius: 24rpx;\n    overflow: hidden;\n    margin-right: 24rpx;\n    box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.05);\n    border: 1px solid #f1f1f1;\n\n    .card-image {\n      width: 100%;\n      height: 240rpx;\n      background-size: cover;\n      background-position: center;\n      position: relative;\n\n      &.is-disabled {\n        filter: grayscale(1) brightness(0.95);\n      }\n\n      &.is-disabled::after {\n        content: \"\";\n        position: absolute;\n        inset: 0;\n        background: rgba(15, 23, 42, 0.25);\n      }\n\n      .image-tag {\n        position: absolute;\n        top: 16rpx;\n        left: 16rpx;\n        background-color: rgba(15, 23, 42, 0.6);\n        backdrop-filter: blur(4rpx);\n        color: #ffffff;\n        font-size: 20rpx;\n        font-weight: 600;\n        padding: 4rpx 16rpx;\n        border-radius: 8rpx;\n        letter-spacing: 2rpx;\n      }\n\n      .price-change-tag {\n        position: absolute;\n        bottom: 16rpx;\n        right: 16rpx;\n        background-color: rgba(45, 156, 240, 0.9);\n        color: #ffffff;\n        font-size: 20rpx;\n        font-weight: 500;\n        padding: 4rpx 16rpx;\n        border-radius: 8rpx;\n      }\n\n      .status-tag {\n        position: absolute;\n        top: 16rpx;\n        right: 16rpx;\n        color: #ffffff;\n        font-size: 20rpx;\n        font-weight: 800;\n        padding: 4rpx 16rpx;\n        border-radius: 8rpx;\n        background-color: rgba(100, 116, 139, 0.95);\n\n        &.badge-success {\n          background-color: rgba(34, 197, 94, 0.95);\n        }\n        &.badge-warning {\n          background-color: rgba(249, 115, 22, 0.95);\n        }\n        &.badge-default {\n          background-color: rgba(100, 116, 139, 0.95);\n        }\n      }\n\n      .lock-tag {\n        position: absolute;\n        bottom: 16rpx;\n        left: 16rpx;\n        background-color: rgba(45, 156, 240, 0.92);\n        color: #ffffff;\n        font-size: 20rpx;\n        font-weight: 700;\n        padding: 4rpx 14rpx;\n        border-radius: 8rpx;\n      }\n    }\n\n    .card-info {\n      padding: 24rpx;\n      display: flex;\n      flex-direction: column;\n      gap: 8rpx;\n\n      .property-name {\n        font-size: 28rpx;\n        font-weight: bold;\n        color: #0f172a;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      }\n\n      .mini-tags {\n        display: flex;\n        gap: 10rpx;\n        flex-wrap: wrap;\n        margin-top: 2rpx;\n\n        .mini-tag {\n          padding: 2rpx 10rpx;\n          background-color: rgba(241, 245, 249, 0.95);\n          border-radius: 8rpx;\n          font-size: 22rpx;\n          color: #475569;\n          line-height: 1.4;\n        }\n      }\n\n      .property-meta {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        font-size: 24rpx;\n        color: #64748b;\n\n        .price {\n          display: flex;\n          align-items: baseline;\n\n          .price-val {\n            font-size: 28rpx;\n            font-weight: bold;\n            color: #2d9cf0;\n          }\n\n          .price-unit {\n            font-size: 20rpx;\n            font-weight: normal;\n            color: #64748b;\n            margin-left: 2rpx;\n          }\n        }\n      }\n    }\n  }\n}\n\n.followed-empty {\n  padding: 0 32rpx 8rpx;\n\n  .empty-card {\n    width: 100%;\n    background-color: #ffffff;\n    border-radius: 24rpx;\n    padding: 36rpx 28rpx;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    gap: 12rpx;\n    border: 1px solid #f1f1f1;\n    box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.05);\n  }\n\n  .empty-icon {\n    font-size: 64rpx;\n    color: rgba(249, 115, 22, 0.9);\n  }\n\n  .empty-title {\n    font-size: 30rpx;\n    font-weight: 800;\n    color: #0f172a;\n  }\n\n  .empty-desc {\n    font-size: 24rpx;\n    color: #64748b;\n    text-align: center;\n  }\n\n  .empty-actions {\n    margin-top: 10rpx;\n    width: 100%;\n    display: flex;\n    justify-content: center;\n  }\n\n  .empty-btn {\n    height: 72rpx;\n    padding: 0 28rpx;\n    border-radius: 18rpx;\n    font-size: 26rpx;\n    font-weight: 800;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    line-height: 1;\n    border: none;\n\n    &::after {\n      border: none;\n    }\n\n    &.ghost {\n      background-color: #f1f5f9;\n      color: #334155;\n    }\n  }\n}\n\n.vertical-list {\n  padding: 0 32rpx;\n  display: flex;\n  flex-direction: column;\n  gap: 32rpx;\n\n  .property-card-v {\n    background-color: #ffffff;\n    border-radius: 24rpx;\n    overflow: hidden;\n    box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.05);\n    border: 1px solid #f1f1f1;\n    display: flex;\n    flex-direction: column;\n\n    .card-image-v {\n      width: 100%;\n      aspect-ratio: 16 / 9;\n      background-size: cover;\n      background-position: center;\n      position: relative;\n\n      &.is-disabled {\n        filter: grayscale(1) brightness(0.95);\n      }\n\n      &.is-disabled::after {\n        content: \"\";\n        position: absolute;\n        inset: 0;\n        background: rgba(15, 23, 42, 0.25);\n      }\n\n      .status-tag-v {\n        position: absolute;\n        top: 16rpx;\n        left: 16rpx;\n        color: #ffffff;\n        font-size: 20rpx;\n        font-weight: 800;\n        padding: 4rpx 16rpx;\n        border-radius: 8rpx;\n        background-color: rgba(100, 116, 139, 0.95);\n\n        &.badge-success {\n          background-color: rgba(34, 197, 94, 0.95);\n        }\n        &.badge-warning {\n          background-color: rgba(249, 115, 22, 0.95);\n        }\n        &.badge-default {\n          background-color: rgba(100, 116, 139, 0.95);\n        }\n      }\n\n      .lock-tag-v {\n        position: absolute;\n        top: 16rpx;\n        right: 16rpx;\n        background-color: rgba(45, 156, 240, 0.92);\n        color: #ffffff;\n        font-size: 20rpx;\n        font-weight: 700;\n        padding: 4rpx 14rpx;\n        border-radius: 8rpx;\n      }\n    }\n\n    .card-info-v {\n      padding: 32rpx;\n      display: flex;\n      flex-direction: column;\n      gap: 16rpx;\n\n      .info-top {\n        display: flex;\n        justify-content: space-between;\n        align-items: flex-start;\n\n        .property-name-v {\n          font-size: 32rpx;\n          font-weight: bold;\n          color: #0f172a;\n        }\n\n        .price-v {\n          display: flex;\n          align-items: baseline;\n          color: #2d9cf0;\n\n          .price-val {\n            font-size: 32rpx;\n            font-weight: bold;\n          }\n\n          .price-unit {\n            font-size: 24rpx;\n            margin-left: 4rpx;\n          }\n        }\n      }\n\n      .property-location {\n        display: flex;\n        align-items: center;\n        gap: 8rpx;\n        font-size: 24rpx;\n        color: #64748b;\n\n        .loc-icon {\n          font-size: 28rpx;\n        }\n      }\n\n      .tags {\n        display: flex;\n        flex-wrap: wrap;\n        gap: 16rpx;\n        margin-top: 8rpx;\n\n        .tag-item {\n          padding: 4rpx 16rpx;\n          background-color: #f1f5f9;\n          border-radius: 8rpx;\n          font-size: 24rpx;\n          font-weight: 500;\n          color: #475569;\n\n          &.tag-orange {\n            background-color: #fff7ed;\n            color: #f97316;\n          }\n        }\n      }\n    }\n  }\n}\n\n.tab-bar {\n  background-color: #ffffff;\n  border-top: 1rpx solid #e2e8f0;\n  padding: 24rpx 48rpx 64rpx;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  z-index: 30;\n\n  .tab-item {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 8rpx;\n    color: #94a3b8;\n\n    .tab-icon {\n      font-size: 52rpx;\n      transition: transform 0.2s;\n\n      &.fill {\n        font-variation-settings: \"FILL\" 1;\n      }\n    }\n\n    .tab-text {\n      font-size: 20rpx;\n      font-weight: 500;\n    }\n\n    &.active {\n      color: #2d9cf0;\n    }\n\n    &:active .tab-icon {\n      transform: scale(1.1);\n    }\n  }\n\n  .icon-with-dot {\n    position: relative;\n\n    .dot {\n      position: absolute;\n      top: -2rpx;\n      right: -2rpx;\n      width: 16rpx;\n      height: 16rpx;\n      background-color: #f97316;\n      border-radius: 50%;\n      border: 2rpx solid #ffffff;\n    }\n  }\n}\n\n.bottom-spacer {\n  height: 120rpx;\n}\n\n.placeholder {\n  color: #94a3b8;\n}\n</style>\n","import MiniProgramPage from 'E:/Work/Progect/GoFly-admin/main-admin/web/wxapp/pages/home/home.vue'\nwx.createPage(MiniProgramPage)"],"names":["_sfc_main","components","BottomTabBar","TopHeader","onLoad","cached","uni","getStorageSync","this","provinceName","getLocation","type","success","fail","loadHomeData","data","provinceOptions","keyword","locationOpen","locationCities","key","label","districts","locDraft","city","district","filters","location","filter","sort","more","panelOpen","panelType","panelDraft","filterOptions","value","bannerImages","followedTotal","followedProperties","name","area","size","price","priceChange","image","status","recommendedProperties","region","desc","tags","computed","filterLabelLocation","cityKey","districtKey","String","split","find","c","d","currentDistricts","filterLabelFilter","hit","x","filterLabelSort","filterLabelMore","length","panelTitle","panelOptions","methods","res","homeApi","Homedata","Array","isArray","e","index$1","reLaunch","url","code","onSearchConfirm","selectProvince","showActionSheet","itemList","tapIndex","setStorageSync","openLocationPicker","first","closeLocationPicker","resetLocationPicker","selectLocCity","applyLocationPicker","openPanel","closePanel","resetPanel","applyPanel","isOptionActive","opt","selectSingle","isMoreSelected","includes","toggleMore","list","idx","indexOf","splice","push","selectCity","__f__","viewAllFollowed","navigateTo","goToDetail","item","id","ensureTags","v","map","trim","getPriceUnit","price_unit","getSaleStatusLabel","on_sale","sold","off_market","getSaleStatusClass","isSoldOrOff","getLayoutText","rooms","Number","halls","bathrooms","formatFollowedMeta","parts","loc","community_name","layout","join","formatRecommendedMeta","property_type","wx","createPage","MiniProgramPage"],"mappings":"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"}