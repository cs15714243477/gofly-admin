{"version":3,"file":"index.js","sources":["store/index.js"],"sourcesContent":["import { createPinia } from 'pinia';\r\nimport piniaPersist from 'pinia-plugin-persist-uni';\r\n\r\n// 显式导入（避免 import.meta.globEager 在小程序运行时报错）\r\nimport user from './user';\r\nimport wxInfo from './wxInfo';\r\n\r\n// 单例 pinia，保证在非组件上下文也可安全使用\r\nexport const pinia = createPinia();\r\npinia.use(piniaPersist);\r\n\r\nconst stores = {\r\n  user,\r\n  wxInfo,\r\n};\r\n\r\nexport const setupPinia = (app) => {\r\n  app.use(pinia);\r\n};\r\n\r\nexport default (name) => {\r\n  const useStore = stores[name];\r\n  if (!useStore) {\r\n    throw new Error(`store ${name} not found`);\r\n  }\r\n  // 传入 pinia 单例，避免“no active pinia”\r\n  return useStore(pinia);\r\n};\r\n"],"names":["createPinia","piniaPersist","user","wxInfo"],"mappings":";;;;AAQO,MAAM,QAAQA,cAAW,YAAA;AAChC,MAAM,IAAIC,cAAAA,KAAY;AAEtB,MAAM,SAAS;AAAA,EACf,MAAEC,WAAI;AAAA,EACN,QAAEC,aAAM;AACR;AAMA,MAAe,SAAA,CAAC,SAAS;AACvB,QAAM,WAAW,OAAO,IAAI;AAC5B,MAAI,CAAC,UAAU;AACb,UAAM,IAAI,MAAM,SAAS,IAAI,YAAY;AAAA,EAC1C;AAED,SAAO,SAAS,KAAK;AACvB;;"}